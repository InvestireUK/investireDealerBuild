import{u as l,s as N,r as d,m as t,a0 as k,a1 as b}from"./index-Bbk-TWcL.js";const w=()=>{var c,r;const{user:m}=l(e=>e.user),{notificationsCheckbox:s}=l(e=>e.user),h=N(),[i,y]=d.useState((c=s==null?void 0:s.notification)==null?void 0:c.notification_setting),[p,u]=d.useState((r=s==null?void 0:s.notification)==null?void 0:r.frequency),f=[{key:"enable",title:"Enable notifications",description:"Get updates on platform improvements, announcements, and investment opportunities—right when they happen."},{key:"disable",title:"Disable notifications",description:"You won’t receive alerts about new features or investment updates. You can enable them anytime."}],x=[{key:"immediately",title:"Immediately",description:"Get notified as soon as something important happens."},{key:"daily",title:"Daily",description:"Receive a summary of updates once a day."},{key:"weekly",title:"Weekly",description:"Get a digest of all key updates every week."}],n=async(e,o)=>{try{const a=await k({user_id:m.id,[e]:o});h(b(a.data)),console.log(`Updated ${e} to: ${o}`)}catch(a){console.error("Error updating preference",a)}},g=e=>{y(e),n("notification_setting",e)},j=e=>{u(e),n("frequency",e)};return t.jsxs("div",{children:[t.jsx("h4",{className:"my-4",children:"Manage notifications"}),t.jsx("hr",{className:"mb-3"}),t.jsx("div",{className:"space-y-3",children:f.map(e=>t.jsxs("label",{className:"flex items-center justify-start gap-3 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:i===e.key,onChange:()=>g(e.key),className:"w-6 h-6 mt-1 accent-[#6C5DD3]"}),t.jsxs("div",{children:[t.jsx("h6",{className:"text-lg font-semibold",children:e.title}),t.jsx("p",{className:"text-sm text-gray-600",children:e.description})]})]},e.key))}),i==="enable"&&t.jsxs(t.Fragment,{children:[t.jsx("h4",{className:"my-4",children:"Manage notifications frequency"}),t.jsx("hr",{className:"mb-3"}),t.jsx("div",{className:"space-y-3",children:x.map(e=>t.jsxs("label",{className:"flex items-center justify-start gap-3 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:p===e.key,onChange:()=>j(e.key),className:"w-6 h-6 mt-1 accent-[#6C5DD3]"}),t.jsxs("div",{children:[t.jsx("h6",{className:"text-lg font-semibold",children:e.title}),t.jsx("p",{className:"text-sm text-gray-600",children:e.description})]})]},e.key))})]})]})};export{w as default};
