import{u as j,b2 as N,r as h,a_ as S,aX as w,b0 as F,m as a,aI as f,b1 as _,aZ as $,a$ as C}from"./index-BYsrrQ78.js";const x=n=>{if(n<=0)return"0";const s=Math.floor(n),i=(n-s)*12,c=Math.round(i);if(s===0)return c===1?"1 month":`${c} months`;if(c===0)return s===1?"1 year":`${s} years`;{const l=s===1?"1 year":`${s} years`,o=c===1?"1 month":`${c} months`;return`${l} ${o}`}},k=()=>{const n=j(e=>{var r;return(r=e==null?void 0:e.deal)==null?void 0:r.deal}),{currentCase:s}=N({deal_type_id:n==null?void 0:n.deal_type_id}),[i,c]=h.useState({}),o=(()=>{switch(s){case"CASE_1":return _;case"CASE_2":return C;case"CASE_3":return(n==null?void 0:n.exit_type_id)===1?_:$;default:return _}})();h.useEffect(()=>{n&&(s==="CASE_2"?c(S(n)):s==="CASE_3"&&(n==null?void 0:n.exit_type_id)!==1?c(w(n)):c(F(n)))},[n,s]);const y=e=>{var g;const r=i[e.name];let t=r;e.name==="return_on_cash_investment_percentage"?t=r?`${r}%`:"0%":e.isPercentage&&(t=r?`${r}%`:"0%"),e.name==="payback_period"?t=Number(i.after_refurb_money_left_in)<=0?"Pays Immediately":x(Number(r))||"0":e.name=="profitable"&&(t="");const m=e.reversed;if((n==null?void 0:n.deal_type_id)===3&&(e.name==="no_of_dwelling"||e.name==="average_rent_per_unit"))return null;const p=a.jsx("div",{className:"purchase-price-label-wrap",children:a.jsx("label",{className:"text-sm text-[#595959] dark:text-[#C5C5C5]",children:e.name==="no_of_dwelling"?(n==null?void 0:n.deal_type_id)===2?"Number of Dwelling":"Number of Bedrooms":e.label})}),d=a.jsx("div",{className:"w-full",children:e.name!=="profitable"&&a.jsx("div",{className:`${e.name==="payback_period",""}`,children:a.jsx("p",{className:"text-xl font-semibold dark:text-white text-[#242424] whitespace-nowrap mt-3",children:e.name==="payback_period"?Number((g=i.after_refurb_money_left_in)==null?void 0:g.toString().replace(/,/g,""))<=0?"Pays Immediately":x(Number(r))||"0":e.name==="months_until_break_even"||e.name==="return_on_cash_investment_percentage"||e.name==="occupancy_rate_monthly"||e.name==="net_ROI"||e.name==="before_refurb_loan_to_value_percentage"||e.name==="before_refurb_interest_rate_percentage"||e.name==="deposit_percentage"||e.name==="contigency_percentage"||e.name==="after_refurb_loan_to_value_percentage"||e.name==="after_refurb_interest_rate_percentage"||e.name==="money_in_cash_invested_percentage"||e.name==="money_out_cash_invested_percentage"||e.name==="management_fee_percentage"||e.name==="no_of_dwelling"||e.name==="effective_rate_percentage"||e.name==="gross_ROI"?e.name==="return_on_cash_investment_percentage"&&parseFloat(t)<=0?"Infinite":t||"0":a.jsxs(a.Fragment,{children:["Â£",t||"0"]})})})});return a.jsx("div",{className:"summary-purchase-custom-grid",children:m?a.jsxs(a.Fragment,{children:[d,p]}):a.jsxs(a.Fragment,{children:[p,d]})})},b=e=>{const t=e.fields.filter(m=>!((n==null?void 0:n.deal_type_id)===3&&(m.name==="no_of_dwelling"||m.name==="average_rent_per_unit")));return t.length===0?null:a.jsx(a.Fragment,{children:t.map(m=>a.jsx("div",{children:y(m)},m.name))})},v=e=>a.jsx("div",{className:"financial-form-main-container-wrapper mb-4",children:a.jsx("div",{className:"dealview-financial-form-container-wrapper",children:a.jsxs("div",{className:"summary-financial-form-grid",children:[a.jsx("div",{className:"financial-form-heading-col mb-3",children:a.jsx("h3",{className:"text-lg text-[#6C5DD3] font-bold",children:e.title})}),a.jsx("div",{className:"financial-form-col-wrap relative grid grid-cols-2 gap-4 gap-y-3 md:gap-y-6 pt-4",children:e.fields.map((r,t)=>r.rows.map((m,u)=>a.jsx(f.Fragment,{children:b(m)},`${t}-${u}`)))})]})})});return a.jsx("div",{className:"grid grid-cols-1",children:o.map(e=>a.jsx(f.Fragment,{children:v(e)},e.id))})};export{k as F};
