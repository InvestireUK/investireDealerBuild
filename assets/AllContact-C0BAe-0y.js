import{r as t,ar as ee,q as se,t as te,$ as ne,T as de,cx as ie,m as e,x as ae,bv as oe,V as ce,cy as me,cz as ue,cA as xe,av as he,u as je,y as ve,n as Ne,o as we,p as ye,c6 as Ce,cB as ke}from"./index-Bxb36qwn.js";import{l as Ee}from"./lodash-DG1g_rIv.js";import{D as Fe}from"./DeleteConfirmationModal-C-CCs_2C.js";import{P as Se}from"./PaginationNew-dEF59rN-.js";import{I as pe}from"./ImportContactsModal-BLNKzdzp.js";const _e=({isOpen:p,onClose:k,onSuccess:r})=>{var b;const[v,L]=t.useState(!1),{handleApiCall:M,loading:E}=ee(),[F,N]=t.useState(!1),[$,w]=t.useState(!1);t.useRef(null);const[O,H]=t.useState(!1),[Y,q]=t.useState(!1),[U,K]=t.useState([]),{showSnackbar:B}=se(),T=te(),h=(b=ne().state)==null?void 0:b.contactId,y=!!h,{register:_,handleSubmit:V,reset:A,setValue:o,formState:{errors:D}}=de({mode:"onChange",defaultValues:{first_name:"",last_name:"",email:"",password:"",phone:""}}),[J,G]=t.useState({news:!1,deals:!1,investment:!1});t.useEffect(()=>{p&&h&&!F&&(N(!0),R()),p||(P(),N(!1))},[p,h,F]);const R=async()=>{var d,i,n,S,c,I,m,C;L(!0);try{const j=await ie(h),z=(i=(d=j==null?void 0:j.data)==null?void 0:d.data)==null?void 0:i.contact;z&&(o("first_name",z.first_name),o("last_name",z.last_name),o("email",z.email),o("password",z.password),o("phone",z.phone))}catch(j){if(console.error("Error fetching contact:",j),((n=j.response)==null?void 0:n.status)===404||(I=(c=(S=j.response)==null?void 0:S.data)==null?void 0:c.message)!=null&&I.includes("could not be found")){B("Contact not found. Creating a new contact instead.","warning"),P();return}B(((C=(m=j==null?void 0:j.response)==null?void 0:m.data)==null?void 0:C.message)||"Failed to fetch contact details. Please try again.","error")}finally{L(!1)}},P=()=>{A({first_name:"",last_name:"",email:"",password:"",phone:""}),N(!1)},W=d=>{const i={...d};y&&!i.password&&delete i.password,M({apiFn:()=>y?me(h,i):ue(i),data:i,onSuccess:n=>{var S;B(((S=n==null?void 0:n.data)==null?void 0:S.message)||(y?"Contact updated successfully":"Contact added successfully"),"success"),k(),r&&r(),T("/all-contacts")}})},f=()=>{H(!0),M({apiFn:()=>xe(U),onSuccess:()=>{q(!1),K([]),k(),r&&r()}})};return p?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-xs z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white text-black rounded-xl shadow-lg pt-3 w-full max-w-3xl min-h-[40vh] md:min-h-[70vh] mx-5 relative dark:bg-[#181818]",children:[(E||v)&&e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 z-10 flex items-center justify-center",children:v?e.jsx(ae,{}):e.jsx(oe,{})}),e.jsxs("div",{className:"flex justify-between items-center p-4 py-5 px-5 border-b border-gray-300",children:[e.jsx("div",{children:e.jsx("h1",{className:"text-2xl text-black font-semibold mb-1 dark:text-[#ECECEC]",children:y?"Edit Contact":"Add New Contact"})}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsx("button",{onClick:k,className:"text-gray-700 transition-colors p-1 dark:text-[#F8F8F8]",disabled:E||v,children:e.jsx(ce,{size:20})})})]}),e.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:e.jsx("div",{className:"add-contact-form-wrap",children:e.jsxs("form",{onSubmit:V(W),children:[e.jsxs("div",{className:"bg-[#FDFDFD] dark:bg-[#181818]",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block form-label",children:"Full Name"}),e.jsx("input",{type:"text",..._("first_name",{required:"Full name is required",minLength:{value:2,message:"Min 2 characters"},pattern:{value:/^[A-Za-z\s]+$/,message:"Name should contain only letters and spaces"}}),className:"w-full border p-3 rounded-xl mb-4 text-sm dark:bg-[#121212] dark:text-[#F8F8F8] dark:border-[#454545]",placeholder:"Enter Full Name"}),D.first_name&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:D.first_name.message})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mt-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block form-label",children:"Email Address"}),e.jsx("input",{type:"email",..._("email",{required:"Email address is required",pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Invalid email address"}}),className:"w-full border p-3 rounded-xl mb-4 text-sm dark:bg-[#121212] dark:text-[#F8F8F8] dark:border-[#454545]",placeholder:"Enter email address"}),D.email&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:D.email.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block form-label",children:"Phone Number"}),e.jsx("input",{type:"tel",inputMode:"numeric",onKeyDown:d=>{["e","E","+","-"].includes(d.key)&&d.preventDefault()},..._("phone",{validate:d=>d?/^0\d{9,10}$/.test(d)||"Phone number must start with 0 and be 10 or 11 digits long":!0}),className:"w-full border p-3 rounded-xl mb-1 text-sm dark:bg-[#121212] dark:text-[#F8F8F8] dark:border-[#454545]",placeholder:"Enter phone number"}),e.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:["Example: ",e.jsx("span",{className:"font-mono",children:"0**********"})]}),D.phone&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:D.phone.message})]})]})]}),e.jsxs("div",{className:"flex justify-end mt-10 gap-3",children:[e.jsx("button",{type:"button",onClick:()=>k(),className:"bg-gray-300 text-black px-6 py-2 rounded-xl hover:bg-gray-400 dark:text-[#F8F8F8] dark:bg-[#121212] dark:border-[#333333]",disabled:E,children:"Cancel"}),e.jsx("button",{type:"submit",disabled:E,className:`purple-btn ${E?"opacity-70 cursor-not-allowed":""}`,children:e.jsx("span",{className:"flex items-center gap-2",children:y?"Update Contact":"Add Contact"})})]})]})})})]})}),e.jsx(pe,{isOpen:Y,onClose:()=>q(!1),onConfirm:f,contacts:U,isLoading:O})]}):null},Ae=({isOpen:p,onClose:k,onSuccess:r,contactId:v})=>{const[L,M]=t.useState(!1),{handleApiCall:E,loading:F}=ee(),[N,$]=t.useState(!1),[w,O]=t.useState(!1);t.useRef(null);const[H,Y]=t.useState(!1),[q,U]=t.useState(!1),[K,B]=t.useState([]),{showSnackbar:T}=se(),Z=te();ne();const h=!!v,{register:y,handleSubmit:_,reset:V,setValue:A,formState:{errors:o}}=de({mode:"onChange",defaultValues:{first_name:"",last_name:"",email:"",password:"",phone:""}}),[D,J]=t.useState({news:!1,deals:!1,investment:!1});t.useEffect(()=>{p&&v&&!N&&($(!0),G()),p||(R(),$(!1))},[p,v,N]);const G=async()=>{var f,b,d,i,n,S,c,I;M(!0);try{const m=await ie(v),C=(b=(f=m==null?void 0:m.data)==null?void 0:f.data)==null?void 0:b.contact;C&&(A("first_name",C.first_name),A("last_name",C.last_name),A("email",C.email),A("password",C.password),A("phone",C.phone))}catch(m){if(console.error("Error fetching contact:",m),((d=m.response)==null?void 0:d.status)===404||(S=(n=(i=m.response)==null?void 0:i.data)==null?void 0:n.message)!=null&&S.includes("could not be found")){T("Contact not found. Creating a new contact instead.","warning"),R();return}T(((I=(c=m==null?void 0:m.response)==null?void 0:c.data)==null?void 0:I.message)||"Failed to fetch contact details. Please try again.","error")}finally{M(!1)}},R=()=>{V({first_name:"",last_name:"",email:"",password:"",phone:""}),$(!1)},P=f=>{const b={...f};h&&!b.password&&delete b.password,E({apiFn:()=>h?me(v,b):ue(b),data:b,onSuccess:d=>{var i;T(((i=d==null?void 0:d.data)==null?void 0:i.message)||(h?"Contact updated successfully":"Contact added successfully"),"success"),k(),r&&r(),Z("/all-contacts")}})},W=()=>{Y(!0),E({apiFn:()=>xe(K),onSuccess:()=>{U(!1),B([]),k(),r&&r()}})};return p?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-xs z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white text-black rounded-xl shadow-lg pt-3 w-full max-w-3xl min-h-[40vh] md:min-h-[70vh] mx-5 relative dark:bg-[#181818]",children:[(F||L)&&e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 z-10 flex items-center justify-center",children:L?e.jsx(ae,{}):e.jsx(oe,{})}),e.jsxs("div",{className:"flex justify-between items-center p-4 py-5 px-5 border-b border-gray-300",children:[e.jsx("div",{children:e.jsx("h1",{className:"text-2xl text-black font-semibold mb-1 dark:text-[#ECECEC]",children:h?"Edit Contact":"Add New Contact"})}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsx("button",{onClick:k,className:"text-gray-700 transition-colors p-1 dark:text-[#ECECEC]",disabled:F||L,children:e.jsx(ce,{size:20})})})]}),e.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:e.jsx("div",{className:"add-contact-form-wrap",children:e.jsxs("form",{onSubmit:_(P),children:[e.jsxs("div",{children:[e.jsx("label",{className:"block form-label",children:"Full Name"}),e.jsx("input",{type:"text",...y("first_name",{required:"Full name is required",minLength:{value:2,message:"Min 2 characters"},pattern:{value:/^[A-Za-z\s]+$/,message:"Name should contain only letters and spaces"}}),className:"w-full border p-3 rounded-xl mb-4 text-sm dark:bg-[#121212] dark:text-[#F8F8F8] dark:border-[#454545]",placeholder:"Enter Full Name"}),o.first_name&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.first_name.message})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mt-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block form-label",children:"Email Address"}),e.jsx("input",{type:"email",...y("email",{required:"Email address is required",pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Invalid email address"}}),className:"form-control",placeholder:"Enter email address"}),o.email&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.email.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block form-label",children:"Phone Number"}),e.jsx("input",{type:"tel",inputMode:"numeric",onWheel:f=>f.target.blur(),onKeyDown:f=>{["e","E","+","-","ArrowUp","ArrowDown"].includes(f.key)&&f.preventDefault()},...y("phone",{required:"Phone number is required",pattern:{value:/^0\d{9,10}$/,message:"Phone number must start with 0 and be 10 or 11 digits long"}}),className:"form-control",placeholder:"Enter phone number"}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Example: ",e.jsx("span",{className:"font-mono",children:"0**********"})]}),o.phone&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.phone.message})]})]}),e.jsxs("div",{className:"flex justify-end mt-10 gap-3",children:[e.jsx("button",{type:"button",onClick:()=>k(),className:"bg-gray-300 text-black px-6 py-2 rounded-xl hover:bg-gray-400 dark:text-[#F8F8F8] dark:bg-[#121212] dark:border-[#333333]",disabled:F,children:"Cancel"}),e.jsx("button",{type:"submit",disabled:F,className:`purple-btn ${F?"opacity-70 cursor-not-allowed":""}`,children:e.jsxs("span",{className:"flex items-center gap-2",children:[h?"":e.jsx(he,{}),h?"Update Contact":"Add Contact"]})})]})]})})})]})}),e.jsx(pe,{isOpen:q,onClose:()=>U(!1),onConfirm:W,contacts:K,isLoading:H})]}):null},Oe=()=>{const{role:p,user:k}=je(s=>s.user);te();const[r,v]=t.useState([]),[L,M]=t.useState(!0),[E,F]=t.useState(""),[N,$]=t.useState([]),[w,O]=t.useState(null),[H,Y]=t.useState({top:0,left:0}),[q,U]=t.useState(!1),[K,B]=t.useState(!1),[T,Z]=t.useState(!1),[h,y]=t.useState(null),_=t.useRef(null),V=t.useRef({}),A=t.useRef(null),{showSnackbar:o}=se(),{handleApiCall:D}=ee(),[J,G]=t.useState(0),[R,P]=t.useState({isOpen:!1,contactId:null,isLoading:!1}),W=()=>{B(!0)},f=()=>{if(J===0){o("Youâ€™ve reached your contact limit. Please upgrade to add more contacts.","warning");return}W()},b=()=>{B(!1)},d=s=>{y(s),Z(!0)},i=()=>{Z(!1)},[n,S]=t.useState({currentPage:1,totalPages:1,from:0,to:0,total:0,hasMorePages:!1}),[c,I]=t.useState({page:1,per_page:(n==null?void 0:n.total)>=5?5:(n==null?void 0:n.total)||5,sortColumn:"created_at",sortOrder:"desc",search:"",status:"all",createdYear:""});t.useEffect(()=>{function s(u){_.current&&!_.current.contains(u.target)&&O(null)}function a(){w!==null&&O(null)}function g(){if(w!==null&&V.current[w]){const x=V.current[w].getBoundingClientRect(),Q=window.innerHeight-x.bottom,l=x.top;U(Q<200&&l>200),Y({top:q?x.top-10:x.bottom+5,left:x.right-160})}}return g(),document.addEventListener("mousedown",s),document.addEventListener("scroll",a,!0),window.addEventListener("resize",g),()=>{document.removeEventListener("mousedown",s),document.removeEventListener("scroll",a,!0),window.removeEventListener("resize",g)}},[w,q]);const m=Ee.debounce(s=>{I(a=>({...a,search:s,page:1}))},1e3),C=s=>{const a=s.target.value;F(a),m(a)},j=s=>{$(a=>a.includes(s)?a.filter(g=>g!==s):[...a,s])},z=s=>{const{name:a,value:g}=s.target;I({...c,[a]:g,page:1})},X=async()=>{var s,a,g;M(!0);try{const u=await Ce({...c,perPage:c.per_page||10,status:c.status==="all"?null:c.status}),{data:x}=u==null?void 0:u.data;v((x==null?void 0:x.contacts)||[]);const Q=(s=x==null?void 0:x.user_subscriptions)==null?void 0:s.user_limit;G(Q);const l=u.data.data.page_context;l&&S({currentPage:parseInt(l==null?void 0:l.page)||1,totalPages:Math.ceil(parseInt((l==null?void 0:l.total_records)||0)/parseInt((l==null?void 0:l.per_page)||10)),from:(parseInt(l.page)-1)*parseInt(l.per_page)+1,to:Math.min(parseInt(l==null?void 0:l.page)*parseInt(l==null?void 0:l.per_page),parseInt((l==null?void 0:l.total_records)||0)),total:parseInt((l==null?void 0:l.total_records)||0),hasMorePages:(l==null?void 0:l.has_more_page)==="true"})}catch(u){console.error("Error fetching contacts:",u),o(((g=(a=u==null?void 0:u.response)==null?void 0:a.data)==null?void 0:g.message)||"Failed to fetch contacts. Please try again.","error")}finally{M(!1)}},fe=s=>{P({isOpen:!0,contactId:s,isLoading:!1})},le=()=>{P({isOpen:!1,contactId:null,isLoading:!1})},be=()=>{P(s=>({...s,isLoading:!0})),D({apiFn:()=>ke(R.contactId),onSuccess:()=>{X(),le(),o("Contact deleted successfully","success")},onError:s=>{P(a=>({...a,isLoading:!1}))}})},re=()=>{X()};t.useEffect(()=>{X()},[c]);const ge=s=>{var a,g,u,x,Q;return!(s!=null&&s.user_id)||((a=s==null?void 0:s.user)==null?void 0:a.deleted_at)!==null?"Inactive":((g=s==null?void 0:s.user)==null?void 0:g.deleted_at)===null&&((u=s==null?void 0:s.user)==null?void 0:u.is_active)===1?"Active":((x=s==null?void 0:s.user)==null?void 0:x.deleted_at)===null&&((Q=s==null?void 0:s.user)==null?void 0:Q.is_active)===0?"Disabled":"Inactive"};return e.jsxs("div",{className:"min-h-screen",children:[e.jsxs("div",{className:"",children:[e.jsxs("div",{className:"flex justify-between items-center  md:mb-8 flex-wrap mb-5",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-semibold mb-2",children:"Contacts"}),e.jsx("p",{className:"text-[#333333] dark:text-[#ECECEC]",children:"Manage your investor contacts"})]}),p!=="team"&&e.jsx("div",{className:"flex space-x-4 flex-wrap gap-3 mt-4 md:mt-0",children:e.jsxs("button",{className:"flex items-center gap-2 px-4 py-3 rounded-md bg-[#6C5DD3] text-white hover:bg-[#5a4bb2] transition-colors",onClick:f,children:[e.jsx(he,{size:14}),e.jsx("span",{children:"Add Contact"})]})})]}),e.jsxs("div",{className:"border rounded-xl dark:border-[#454545]",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-3 md-gap-0 space-x-4 items-start justify-between px-4 py-4",children:[e.jsxs("div",{className:"relative custom-input-w",children:[e.jsx("input",{type:"text",placeholder:"Search for contacts",className:"form-control",value:E,onChange:C,style:{paddingLeft:"40px"}}),e.jsx(ve,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]}),e.jsx("div",{className:"p-1 bg-[#F3F3F3] dark:bg-[#2B2B2B] rounded-xl",children:e.jsx("div",{className:"flex gap-2",children:[{label:"All Members",value:"all"},{label:"Active",value:"1"},{label:"Inactive",value:"0"}].map(s=>e.jsx("button",{onClick:()=>z({target:{name:"status",value:s.value}}),className:`px-4 py-2 rounded-md transition-colors duration-200 ${c.status===s.value?"bg-white text-dark shadow-xl dark:bg-[#121212] dark:text-white":"bg-[#F3F3F3] text-gray-800 dark:bg-[#2B2B2B] dark:text-gray-300"}`,children:s.label},s.value))})})]}),e.jsx("div",{ref:A,className:"dark:bg-[#222632] bg-[#EBEBEC] rounded-lg overflow-hidden text-dark dark:text-white comparable-listing-table-wrap",children:L?e.jsx("div",{className:"flex justify-center items-center p-12",children:e.jsx(ae,{})}):r.length===0?e.jsx("div",{className:"text-center p-12 text-dark dark:text-white",children:e.jsx("p",{children:"No contacts found. Add some contacts to see them here."})}):e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:e.jsx("input",{type:"checkbox",onChange:s=>$(s.target.checked?r==null?void 0:r.map(a=>a.id):[]),checked:N.length===(r==null?void 0:r.length)&&(r==null?void 0:r.length)>0})}),e.jsx("th",{children:"NAME"}),e.jsx("th",{children:"EMAIL"}),e.jsx("th",{children:"PHONE NUMBER"}),e.jsx("th",{children:"STATUS"}),e.jsx("th",{children:"CREATED AT"}),p!=="team"&&e.jsx("th",{children:"ACTIONS"})]})}),e.jsx("tbody",{children:(r==null?void 0:r.length)>0?r==null?void 0:r.map(s=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("input",{type:"checkbox",checked:N==null?void 0:N.includes(s==null?void 0:s.id),onChange:()=>j(s==null?void 0:s.id)})}),e.jsx("td",{children:e.jsx("div",{className:"line-clamp-3 max-w-[200px] overflow-hidden text-ellipsis",children:s==null?void 0:s.first_name})}),e.jsx("td",{children:s==null?void 0:s.email}),e.jsx("td",{children:s==null?void 0:s.phone}),e.jsx("td",{className:"p-4",children:(()=>{const a=ge(s);return e.jsx("span",{className:`px-2 py-1 rounded-full text-xs border
                                  ${a==="Active"?"bg-[#ECFDF3] text-[#054F31] border-[#A6F4C5] dark:border-[#05603A] dark:bg-[#053321] dark:text-[#6CE9A6]":a==="Disabled"?"bg-red-100 text-red-700 border border-red-300":"bg-[#FFF8E1] text-[#FB6E0A] border-[#FEDE82] dark:border-[#FC8D0B] dark:bg-[#E56306] dark:text-[#FED350]"}`,children:a})})()}),e.jsx("td",{children:s!=null&&s.created_at?new Date(s==null?void 0:s.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"-"}),p!=="team"&&e.jsx("td",{className:"",children:e.jsx("div",{className:"flex justify-center relative",children:e.jsx("button",{ref:a=>V.current[s.id]=a,onClick:()=>O(w===(s==null?void 0:s.id)?null:s==null?void 0:s.id),className:"text-lg",children:e.jsx(Ne,{className:"text-[#595959]"})})})})]},s.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"10",className:"text-center p-4",children:"No deals available"})})})]}),w!==null&&e.jsxs("div",{ref:_,style:{position:"fixed",top:`${H.top}px`,left:`${H.left}px`,zIndex:9999},className:"w-40 bg-white rounded-xl shadow-lg dark:bg-[#242424]",children:[e.jsx("button",{onClick:()=>{const s=r.find(a=>a.id===w);d(s==null?void 0:s.id),O(null)},className:"flex items-center w-full px-4 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-sm",children:e.jsxs("span",{className:"flex items-center",children:[e.jsx(we,{className:"mr-2"})," Edit details"]})}),e.jsxs("button",{onClick:()=>{fe(w),O(null)},className:"flex items-center w-full px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-sm text-red-600",children:[e.jsx(ye,{className:"mr-2"})," Delete"]})]})]})})]}),e.jsx(Se,{pagination:{total:n.total,currentPage:c.page,perPage:n.total>=5?5:n.total,totalPages:Math.ceil(n.total/c.per_page)},setFilters:I})]}),e.jsx(Fe,{isOpen:R.isOpen,onClose:le,onConfirm:be,isLoading:R.isLoading,title:"Delete Contact"}),e.jsx(_e,{isOpen:K,onClose:b,onSuccess:re}),e.jsx(Ae,{contactId:h,isOpen:T,onClose:i,onSuccess:re})]})};export{Oe as default};
