import{r as d,m as e,ar as ke,as as Ct,s as kt,a6 as St,T as Lt,at as Dt,t as At,u as at,au as S,x as It,av as Ut,aw as Et,ax as Ue,ay as Rt,az as Pt,aA as Ee,aB as $t,aC as Ot,aD as Ft,a9 as Tt,aE as Mt,N as rt,aF as zt,aG as Bt,am as qt}from"./index-B9VPU_C7.js";import{M as Gt}from"./ModifiedAutoAddressInput-BZRpEinZ.js";import{a as Vt}from"./index-BIJe14du.js";import{u as Wt}from"./index-DWtoJdka.js";const Yt=async(x,o,L,w,H,O,g,c,me,F)=>{var ye,re,W;if(!x)return{valid:!1};g(null),w(!0),O(!1);let E=o?(re=(ye=L==null?void 0:L.data)==null?void 0:ye.countries)==null?void 0:re.find(P=>P.id==o):null,xe=(E==null?void 0:E.iso)||(E==null?void 0:E.iso3);if(!/^[A-Za-z0-9\s-]+$/.test(x))return H("Post code format is invalid"),O(!1),w(!1),{valid:!1};try{const P="AIzaSyDhNgmQPNc-YzwdfY9n98YwF04E770ta44";let B;if(E){const v=[];c&&v.push(c),me&&v.push(me),c!="33 Old Broad Street"&&v.push(x),v.push(E.nicename),B=`https://maps.googleapis.com/maps/api/geocode/json?address=${encodeURIComponent(v.join(", "))}&key=${P}`}else B=`https://maps.googleapis.com/maps/api/geocode/json?address=${x}&key=${P}`;const q=await(await fetch(B)).json();if(q.status==="OK"&&q.results.length>0){const v=q.results[0].address_components,de=v.find(C=>C.types.includes("postal_code")),le=v.find(C=>C.types.includes("country")),ue=v.find(C=>C.types.includes("administrative_area_level_1"));if(!o&&le&&((W=L==null?void 0:L.data)!=null&&W.countries)){let C=L.data.countries.find(I=>I.iso===le.short_name||I.iso3===le.short_name||I.nicename===le.long_name||I.name===le.long_name);!C&&ue&&(C=L.data.countries.find(I=>I.nicename===ue.long_name||I.name===ue.long_name)),C&&(F("country_id",C.id,{shouldValidate:!0,shouldDirty:!0}),E=C,xe=C.iso||C.iso3)}if(de){const C=de.long_name.replace(/\s+/g,"").toUpperCase(),I=x.replace(/\s+/g,"").toUpperCase();if(C===I||C.includes(I)||I.includes(C)){const J=q.results[0].geometry.location;if(J&&g({lat:J.lat,lng:J.lng}),O(!0),H(""),c&&!me){let h="";const y=v.find(N=>N.types.includes("postal_town")),j=v.find(N=>N.types.includes("locality"));y?h=y.long_name:j&&(h=j.long_name),h&&F("address_line_2",h,{shouldValidate:!0,shouldDirty:!0})}return w(!1),{valid:!0,coordinates:J?{lat:J.lat,lng:J.lng}:null}}else return H(`Did you mean ${de.long_name}?`),O(!1),g(null),w(!1),{valid:!1}}else return H("No valid postal code found for this location"),O(!1),g(null),w(!1),{valid:!1}}else{let v="";return q.status==="ZERO_RESULTS"||q.status==="INVALID_REQUEST"?v="Post code format is invalid":q.status==="OVER_QUERY_LIMIT"?v="Too many requests. Please try again later":q.status==="REQUEST_DENIED"?v="API request denied. Please check your configuration":v="Post code format is invalid",H(v),O(!1),g(null),w(!1),{valid:!1}}}catch{return H("Post code format is invalid"),O(!1),g(null),w(!1),{valid:!1}}},Kt=x=>typeof x=="string"?x:URL.createObjectURL(x),lt=x=>typeof x=="string"?"image":x.type.startsWith("video/")?"video":"image";function Qt({onImagesChange:x,maxFiles:o=10,initialImages:L=[],onClose:w,title:H="Upload Images",acceptedFileTypes:O="image",initialActiveIndex:g=0,otherImages:c,removeOtherImage:me}){const[F,E]=d.useState([]),[xe,m]=d.useState([]),[ye,re]=d.useState([]),[W,P]=d.useState(g),[B,pe]=d.useState(""),[q,v]=d.useState([]);d.useEffect(()=>{if(L.length){const h=[],y=[],j=[];L.forEach(N=>{const Y=Kt(N);h.push(Y),typeof N!="string"&&j.push(Y),y.push(lt(N))}),E(L),m(h),re(y),v(j),P(g<L.length?g:0)}else E([]),m([]),re([]),v([]),P(0)},[L,g]);const de=d.useCallback(h=>{if(F.length+h.length>o){pe(`You can only upload up to ${o} files.`);return}const y=h,j=[],N=[],Y=[];y.forEach(K=>{const _e=URL.createObjectURL(K);j.push(_e),N.push(lt(K)),Y.push(_e)}),E(K=>[...K,...y]),m(K=>[...K,...j]),re(K=>[...K,...N]),v(K=>[...K,...Y]),pe("")},[F.length,o]),le=d.useMemo(()=>{const h={};return O==="image"?(h["image/png"]=[".png"],h["image/jpeg"]=[".jpg",".jpeg"]):O==="video"&&(h["video/mp4"]=[".mp4"],h["video/webm"]=[".webm"],h["video/ogg"]=[".ogg"],h["video/quicktime"]=[".mov"]),h},[O]),{getRootProps:ue,getInputProps:C,isDragActive:I}=Wt({onDrop:de,accept:le,maxSize:20971520,onDropRejected:h=>{var j,N;const y=(N=(j=h[0])==null?void 0:j.errors[0])==null?void 0:N.code;pe(y==="file-too-large"?"File is too large. Max size is 20MB.":y==="file-invalid-type"?`Only ${O.replace("*","")} files are allowed.`:"Invalid file. Please try again.")}}),Ne=h=>{E(y=>{const j=[...y];return j.splice(h,1),j}),m(y=>{const j=[...y],[N]=j.splice(h,1);return N!=null&&N.startsWith("blob:")&&URL.revokeObjectURL(N),j}),re(y=>{const j=[...y];return j.splice(h,1),j}),P(y=>y===h?0:y>h?y-1:y)};d.useEffect(()=>()=>{q.forEach(h=>{h.startsWith("blob:")&&URL.revokeObjectURL(h)})},[q]);const J=()=>{x(F),w()};return e.jsx("div",{className:"comparables-upload-image-popup fixed inset-0 bg-gray-900/75 flex items-center justify-center z-50",children:e.jsx("div",{className:"dark:bg-[#121212] bg-white rounded-lg p-6 w-full max-w-3xl mx-4",children:e.jsxs("div",{className:"overflow-y-auto max-h-[90vh] pe-2",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h6",{className:"text-black dark:text-white",children:H}),e.jsx("button",{onClick:w,className:"dark:text-gray-400 text-red-500",children:e.jsx(ke,{size:24})})]}),e.jsxs("div",{...ue(),className:`border-2 border-dashed rounded-lg p-8 text-center cursor-pointer mb-6 transition-colors ${I?"border-purple-500 bg-purple-900/10":"border-gray-600 hover:border-purple-400"}`,children:[e.jsx("input",{...C()}),e.jsx(Ct,{className:"mx-auto text-purple-500",size:48}),e.jsx("p",{className:"mt-2 text-gray-400",children:I?"Drop the files here ...":"Drag & drop or click to select files"}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Supported: ",O.replace(/\*/g,"")]})]}),B&&e.jsx("div",{className:"text-red-500 mb-4 p-2 bg-red-900/20 rounded",children:B}),xe.length>0&&e.jsx("div",{className:"grid grid-cols-6 gap-2 mb-6",children:xe.map((h,y)=>e.jsxs("div",{className:`relative h-20 rounded overflow-hidden border-2 cursor-pointer ${y===W?"border-purple-500":"border-transparent"}`,onClick:()=>P(y),children:[e.jsx("img",{src:h,alt:`Thumbnail ${y}`,className:"w-full h-full object-cover"}),e.jsx("button",{onClick:j=>{j.stopPropagation(),Ne(y)},className:"absolute top-1 right-1 p-1 rounded-full flex items-center justify-center",style:{width:20,height:20},children:e.jsx(ke,{size:14,className:"text-red-500"})})]},y))}),e.jsx("div",{className:"flex justify-end gap-4",children:e.jsx("button",{onClick:J,className:"purple-btn items-center",children:F.length?"Save":"Cancel"})})]})})})}const Zt="/assets/deal-creation-PFOLVc3R.webp",Jt=()=>e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("img",{src:Zt,alt:""}),e.jsx("p",{className:"text-[#595959]",children:"Deal creation is under maintenance"})]}),Ht=x=>{var o;return x?(o=x.media)!=null&&o.media_url?x.media.media_url:x.preview?x.preview:typeof x=="string"?x:null:null},Xt=x=>x.map(o=>{var L;return o?o.file?o.file:(L=o.media)!=null&&L.media_url?o.media.media_url:typeof o=="string"?o:null:null}).filter(Boolean),es=x=>x.map(o=>typeof o=="string"?{media:{media_url:o}}:{file:o,preview:URL.createObjectURL(o)}),ns=()=>{var Ge,Ve,We,Ye,Ke,Qe,Ze,Je,He,Xe,et,tt;const x=kt(),{data:o,loading:L}=St(Tt),{register:w,handleSubmit:H,getValues:O,setValue:g,watch:c,control:me,clearErrors:F,setError:E,trigger:xe,formState:{errors:m}}=Lt(),ye={0:Vt,1:Ot,2:$t},re={0:Ee,1:Pt,2:Rt},[W,P]=d.useState([]),[B,pe]=d.useState(null),[q,v]=d.useState(!1),[de,le]=d.useState(0),[ue,C]=d.useState(!1),I=d.useCallback(t=>{le(t),v(!0)},[]),Ne=d.useCallback(t=>{const s=es(t);P(s),v(!1)},[]),J=Math.max(0,W.length-3),h=W.slice(0,3),[y,j]=d.useState(""),[N,Y]=d.useState([null,null]),{handleApiCall:K,loading:_e}=Dt(),Re=At(),[X,ee]=d.useState(null),[T,te]=d.useState(null),[ts,fe]=d.useState(!1),[Pe,$e]=d.useState(!1),[Se,we]=d.useState(""),[Le,G]=d.useState(!1),[De,R]=d.useState(!1),[be,k]=d.useState(""),[Ae,Q]=d.useState(!1),[oe,ge]=d.useState(!1),[Oe,ot]=d.useState(!1),r=at(t=>{var s;return(s=t==null?void 0:t.deal)==null?void 0:s.deal}),[M,Z]=d.useState([null,null]),se=c("address_line_1"),z=c("address_line_2"),$=c("post_code"),ae=c("country_id"),Fe=at(t=>t.deal.currentStep),it="AIzaSyDhNgmQPNc-YzwdfY9n98YwF04E770ta44",[nt,dt]=d.useState(null),[ss,as]=d.useState(!1),[ct,pt]=d.useState(!1),ut=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(t=>{const s={lat:t.coords.latitude,lng:t.coords.longitude};dt(s),te(s)},()=>{alert("Location access denied or unavailable.")}):alert("Geolocation is not supported by this browser.")},mt=()=>{const t=nt||T;return t?`https://www.google.com/maps/embed/v1/place?key=${it}&q=${t.lat},${t.lng}&zoom=16`:""};d.useEffect(()=>{var t,s;if(z&&$){if(k(""),$.trim().length<5){k(""),E("address_line_1",{type:"manual",message:"Please input complete address"}),Q(!1);return}else F("address_line_1");const a=ae?(s=(t=o==null?void 0:o.data)==null?void 0:t.countries)==null?void 0:s.find(i=>i.id==ae):null;if(a){const i=a.iso||a.iso3;if(["GB","UK","GB-ENG","GB-SCT","GB-WLS","GB-NIR"].includes(i)||["United Kingdom","England","Scotland","Wales","Northern Ireland"].some(l=>a.nicename.includes(l)||l.includes(a.nicename))){if(!/^[A-Za-z0-9\s]+$/.test($)){k("Post code format is invalid"),Q(!1);return}}else if(!/^[A-Za-z0-9\s-]+$/.test($)){k("Post code format is invalid"),Q(!1);return}}else if(!/^[A-Za-z0-9\s-]+$/.test($)){k("Post code format is invalid"),Q(!1);return}$&&(se||z)&&ae&&(async()=>await je())()}else Q(!1)},[z,$,ae,(Ge=o==null?void 0:o.data)==null?void 0:Ge.countries]);const je=async()=>{const t=c("post_code"),s=c("country_id"),a=c("address_line_1"),i=c("address_line_2");if(!t)return;R(!0),G(!1),Q(!1),te(null),ee(null);const n=[...M];n[0]&&!(r!=null&&r.map_image)&&(n[0]=null,Z(n));const l=await Yt(t,s,o,R,k,ge,te,a,i,g);t===c("post_code")&&(l&&l.valid&&l.coordinates?(ge(!0),k(""),te(l.coordinates),G(!0),i&&t&&Q(!0)):(ge(!1),G(!1),Q(!1),te(null)))},ve=()=>{var a,i,n;const t=document.createElement("canvas");t.width=600,t.height=400;const s=t.getContext("2d");if(s.fillStyle="#e8e8e8",s.fillRect(0,0,t.width,t.height),s.fillStyle="#333",s.font="20px Arial",s.textAlign="center",s.font="16px Arial",s.fillText("We couldn't generate a detailed map for this address",t.width/2,150),z||$){s.textAlign="left",s.font="14px Arial",se&&s.fillText(`Address Line 1: ${se||""}`,50,220),s.fillText(`Address Line 2: ${z||""}`,50,250),s.fillText(`Postal Code: ${$||""}`,50,280);const l=(n=(i=(a=o==null?void 0:o.data)==null?void 0:a.countries)==null?void 0:i.find(f=>f.id==ae))==null?void 0:n.nicename;l&&s.fillText(`Country: ${l}`,50,310)}t.toBlob(l=>{const f=URL.createObjectURL(l);ee(f);const _=[...M];_[0]=f,Z(_);const b=new File([l],"map-image.png",{type:"image/png"}),U=[...N];U[0]=b,Y(U)},"image/png")};d.useEffect(()=>{if(r&&(["country_id","post_code","city","address_line_1","address_line_2","property_type_id","exit_type_id","deal_type_id","no_of_dwelling","no_of_guests","tenure_type"].forEach(s=>{r[s]!==void 0&&r[s]!==null&&g(s,r[s].toString())}),r.property_type_category_id&&g("property_type_category_id",r.property_type_category_id.toString()),r.map_image_url&&(ee(r==null?void 0:r.map_image_url),Z(s=>{const a=[...s];return a[0]=r==null?void 0:r.map_image_url,a})),r.image_url&&Z(s=>{const a=[...s];return a[1]=r==null?void 0:r.image_url,a}),Y([null,null]),r.property_deal_media&&Array.isArray(r.property_deal_media))){const s=r.property_deal_media.map(a=>a||null).filter(Boolean);P(s)}},[r,g]),d.useEffect(()=>{if(window.google&&window.google.maps&&window.google.maps.Geocoder)$e(!0);else{const t=setInterval(()=>{window.google&&window.google.maps&&window.google.maps.Geocoder&&($e(!0),clearInterval(t))},500);return()=>clearInterval(t)}},[]),d.useEffect(()=>{Ae&&!De&&!Le&&(R(!0),Pe?ft():(fe(!0),ve(),R(!1),G(!0)))},[Ae,Pe,Le]),d.useEffect(()=>{T&&oe&&oe&&(Te(),R(!1),G(!0),k(""))},[T,oe]);const ft=()=>{var f,_;if(!z||!$||!ae){R(!1),k("postal code is not valid");return}if(T&&oe){R(!1),G(!0),k(""),Te();return}const t=(_=(f=o==null?void 0:o.data)==null?void 0:f.countries)==null?void 0:_.find(b=>b.id==ae);if(!t){R(!1),k("Selected country is invalid");return}const s=t.nicename,a=t.iso||t.iso3,i=[z,$,s].filter(Boolean);if(i.length<3){R(!1),k("Complete address information is required");return}const n=i.join(", ");if(!window.google||!window.google.maps||!window.google.maps.Geocoder){fe(!0),ve(),R(!1),G(!0);return}new window.google.maps.Geocoder().geocode({address:n},(b,U)=>{if(U==="OK"&&b[0]){const u=b[0].address_components.find(A=>A.types.includes("country"));if(u){const A=u.long_name,ie=u.short_name;if(!(ie===a||ie===t.iso3||A.toLowerCase().includes(s.toLowerCase())||s.toLowerCase().includes(A.toLowerCase()))){k(`Address not found in ${s}`),fe(!0),ve(),R(!1),G(!0);return}}const D=b[0].geometry.location_type,p=b[0].geometry.viewport!==void 0;if(D==="ROOFTOP"||D==="RANGE_INTERPOLATED"||p){const A=b[0].geometry.location;te({lat:A.lat(),lng:A.lng()}),fe(!1)}else fe(!0),k("post code is not valid"),ve()}else{let u="Address validation failed";U==="ZERO_RESULTS"?u="Address not found":U==="INVALID_REQUEST"?u="Invalid address format":U==="OVER_QUERY_LIMIT"&&(u="Too many requests, please try again later"),k(u),fe(!0),ve()}R(!1),G(!0)})},gt=t=>{if(!t||typeof t!="string")return!1;const s=["rd","road","st","street","ln","lane","ave","avenue","blvd","boulevard","ct","court","dr","drive","pl","place","sq","square","way","terrace","ter"],a=t.toLowerCase().split(" "),i=a[a.length-1];return s.includes(i)||i.endsWith(".")&&s.includes(i.slice(0,-1))?(g("address_line_1",t),!0):!1},ht=t=>{var U;if(!t||!t.address_components)return;G(!1),R(!1),Q(!1),k(""),te(null),ee(null);const s=[...M];s[0]&&!(r!=null&&r.map_image)&&(s[0]=null,Z(s));const a=t.address_components,i=a.find(u=>u.types.includes("postal_code")),n=a.find(u=>u.types.includes("administrative_area_level_1")),l=a.find(u=>u.types.includes("street_number")),f=a.find(u=>u.types.includes("administrative_area_level_2")),_=a.find(u=>u.types.includes("route")),b=a.find(u=>u.types.includes("locality")||u.types.includes("postal_town")||u.types.includes("administrative_area_level_2"));if(l&&_){const u=`${l.long_name} ${_.long_name}`;g("address_line_1",u)}else if(t.formatted_address){const u=t.formatted_address.split(",").map(D=>D.trim());if(u.length>0){const D=u[0];g("address_line_1",D)}}if(b)g("address_line_2",b.long_name),F("address_line_2");else if(t.formatted_address){const u=t.formatted_address.split(",").map(D=>D.trim());u.length>1&&(g("address_line_2",u[1]),F("address_line_2"))}if(i&&(g("post_code",i.long_name),F("post_code")),f&&(g("city",f.long_name),F("city")),n&&((U=o==null?void 0:o.data)!=null&&U.countries)){const u=o.data.countries.find(D=>D.iso.toLowerCase()===n.short_name.toLowerCase()||D.nicename.toLowerCase()===n.long_name.toLowerCase());u&&(g("country_id",u.id),F("country_id"))}},Te=()=>{if(!T)return;X&&(URL.revokeObjectURL(X),ee(null));const t="AIzaSyDhNgmQPNc-YzwdfY9n98YwF04E770ta44",{lat:s,lng:a}=T,i=`https://maps.googleapis.com/maps/api/staticmap?center=${s},${a}&zoom=16&size=600x400&maptype=roadmap&markers=color:red%7C${s},${a}&key=${t}`,n=new Image;n.crossOrigin="anonymous",n.onload=()=>{const l=document.createElement("canvas");l.width=n.width,l.height=n.height,l.getContext("2d").drawImage(n,0,0),l.toBlob(_=>{const b=URL.createObjectURL(_);ee(b),k(""),ge(!0);const U=[...M];U[0]=b,Z(U);const u=new File([_],"map-image.png",{type:"image/png"}),D=[...N];D[0]=u,Y(D)},"image/png")},n.onerror=l=>{k("Failed to generate map. Please try again.");const f=document.createElement("canvas");f.width=600,f.height=400;const _=f.getContext("2d");_.fillStyle="#e8e8e8",_.fillRect(0,0,f.width,f.height),_.fillStyle="#333",_.font="16px Arial",_.fillText(`Location: ${s}, ${a}`,20,30),_.fillText(`Address: ${se||""}`,20,60),_.fillText(`${z||""}`,20,90),_.fillText(`${$||""}`,20,120),_.fillStyle="red",_.beginPath(),_.arc(f.width/2,f.height/2,10,0,2*Math.PI),_.fill(),f.toBlob(b=>{const U=URL.createObjectURL(b);ee(U);const u=[...M];u[0]=U,Z(u);const D=new File([b],"map-image.png",{type:"image/png"}),p=[...N];p[0]=D,Y(p)},"image/png")},n.src=i},Me=d.useRef(null),xt=d.useRef(null),yt=()=>Me.current.click(),_t=(t,s)=>{const a=[...M];a[s]=URL.createObjectURL(t),Z(a);const i=[...N];i[s]=t,Y(i)},bt=t=>{event.stopPropagation();const s=[...M];s[t]=null,Z(s);const a=[...N];a[t]=null,Y(a)},ze=async(t,s)=>{const{media_id:a,property_deal_id:i}=s;P(n=>{const l=[...n];return l.splice(t,1),l});try{const n=await Mt(i,a);n&&n.data}catch{console.log("Failed to delete deal media")}},Be=["image/png","image/jpeg","image/jpg"],qe=25,jt=t=>{const s=t.target.files[0];if(s){if(!Be.includes(s.type)){j("Only PNG, JPG, and JPEG formats are allowed.");return}if(s.size>qe*1024*1024){j("File size must be less than 25 MB.");return}j(""),_t(s,1),t.target.value=""}},vt=t=>{const s=Array.from(t.target.files);if(!s.length)return;if(s.filter(n=>!Be.includes(n.type)||n.size>qe*1024*1024).length>0){j("Only PNG, JPG, and JPEG formats are allowed (max 25MB).");return}j("");const i=s.map(n=>({file:n,preview:URL.createObjectURL(n)}));P(n=>{let l=[...n];if(B===3){let f=0;for(;f<i.length&&l.length<3;)l.push(i[f]),f++;f<i.length&&l.push(...i.slice(f))}else if(B!=null&&B<3){l[B]&&l.push(l[B]),l[B]=i[0];let f=1;for(let _=0;_<3&&f<i.length;_++)l[_]||(l[_]=i[f],f++);f<i.length&&l.push(...i.slice(f))}return l}),t.target.value=""},Nt=async t=>{var u,D;const s=V.property_types.find(p=>p.id==t.property_type_id);if((((D=(u=s==null?void 0:s.property_type_categories)==null?void 0:u.find(p=>p.id==t.property_type_category_id))==null?void 0:D.sub_categories)??[]).length===0&&(t.sub_category_id=""),!Le&&!oe&&(k("Please validate the postal code by completing the address"),z&&$&&ae&&await je(),!oe))return;if(Oe&&!t.tenure_type){k("Please select a tenure type (Freehold or Leasehold)");return}const i=N[0],n=N[1],l=!!(r!=null&&r.id);if(!l&&(!i||!n)){j("Thumbnail image is required.");return}const f=Object.keys(t).some(p=>{var ne,ce;const A=(ne=t[p])==null?void 0:ne.toString(),ie=(ce=r==null?void 0:r[p])==null?void 0:ce.toString();return A!==ie}),_=!!i||!!n||W.some(p=>p.file instanceof File);if(!f&&!_){const p={...r,step:2};x(rt(p)),x({type:"deal/setCurrentStep",payload:Math.max(Fe,2)}),Re("/create-deal/financials");return}const b=new FormData;Object.keys(t).forEach(p=>{t[p]!==void 0&&t[p]!==null&&b.append(p,t[p])}),b.append("step","1"),l&&b.append("_method","PATCH"),T!=null&&T.lat&&(T!=null&&T.lng)&&(b.append("lat",T.lat),b.append("lng",T.lng)),i instanceof File&&b.append("map_image",i),n instanceof File&&b.append("image",n),W.forEach((p,A)=>{p.file instanceof File&&b.append("images[]",p.file)}),await K({apiFn:l?()=>zt(r.id,b):()=>Bt(b),data:b,headers:{"Content-Type":"multipart/form-data"},onSuccess:p=>{var ie,ne,ce;x(qt(!0));const A={...p.deal,step:2};(ie=p.deal)!=null&&ie.map_image_url&&(A.map_image=p.deal.map_image_url),(ne=p.deal)!=null&&ne.image_url&&(A.image=p.deal.image_url),Array.isArray((ce=p.deal)==null?void 0:ce.property_deal_media)&&(A.other_images=p.deal.property_deal_media.map(Ce=>Ce||null).filter(Boolean)),x(rt(A)),x({type:"deal/setCurrentStep",payload:Math.max(Fe,2)}),Re("/create-deal/financials")},onError:p=>{var ne,ce,Ce,st;console.log("API error:",p);const A=((ce=(ne=p==null?void 0:p.response)==null?void 0:ne.data)==null?void 0:ce.message)||(p==null?void 0:p.message)||"",ie=((st=(Ce=p==null?void 0:p.response)==null?void 0:Ce.data)==null?void 0:st.status)||"";if(A.toLowerCase().includes("under maintenance")||ie.toLowerCase().includes("disabled")||A.toLowerCase().includes("deal creation is currently disabled")){pt(!0),p.suppressToast=!0;return}}})},V=(o==null?void 0:o.data)||{property_types:[],deal_types:[],exit_types:[]},wt=((Ve=o==null?void 0:o.data)==null?void 0:Ve.countries)||[],he=c("property_type_id");c("sub_category_id");const Ie=c("deal_type_id");return d.useEffect(()=>{var t;if(he&&((t=o==null?void 0:o.data)!=null&&t.property_types)){const s=o.data.property_types.find(a=>a.id==he);if(s){const a=s.slug==="commercial"||s.slug==="mixed-Use";ot(a),a?r!=null&&r.tenure_type&&c("tenure_type")!==r.tenure_type&&g("tenure_type",r.tenure_type):c("tenure_type")!==""&&g("tenure_type","")}}},[he,(We=o==null?void 0:o.data)==null?void 0:We.property_types,g,r]),d.useEffect(()=>{var t,s;if(he){const a=(t=V.property_types)==null?void 0:t.find(l=>l.id==he),i=c("property_type_category_id");!((s=a==null?void 0:a.property_type_categories)!=null&&s.some(l=>l.id==i))&&i!==""&&g("property_type_category_id","")}},[he,V.property_types,g]),d.useEffect(()=>{if(Ie&&V.deal_types){const t=V.deal_types.find(s=>s.id===Number(Ie));t&&(t.slug==="single_let"?(we(S.dwellingsforSingleLet),C(!1)):t.slug==="hmo"?(we(S.dwellingsforHMO),C(!1)):t.slug==="sa"?(we(S.dwellingsforSA),C(!0)):(we(S.dwellingsforAll),C(!1)))}},[Ie,V.deal_types]),d.useEffect(()=>{try{if(oe&&se&&typeof se=="string"&&!z){const t=se.trim().split(/\s+/);if(t.length>2){const s=["rd","road","st","street","ln","lane","ave","avenue","blvd","boulevard","ct","court","dr","drive","pl","place","sq","square","way","terrace","ter"];let a=-1;for(let l=0;l<t.length;l++){const f=t[l].toLowerCase().replace(/\W/g,"");if(s.includes(f)){a=l;break}}let i,n;if(a>=0)i=t.slice(0,a+1).join(" "),n=t.slice(a+1).join(" ");else{const l=Math.ceil(t.length/2);i=t.slice(0,l).join(" "),n=t.slice(l).join(" ")}(se!==i||n&&z!==n)&&(g("address_line_1",i,{shouldValidate:!1,shouldDirty:!0}),n&&g("address_line_2",n,{shouldValidate:!1,shouldDirty:!0}))}}}catch(t){console.error("Error in address splitting useEffect:",t)}},[oe,se,z,g]),d.useEffect(()=>()=>{X&&URL.revokeObjectURL(X),W.forEach(t=>{t.preview&&typeof t.preview=="string"&&t.preview.startsWith("blob:")&&URL.revokeObjectURL(t.preview)}),M.forEach(t=>{t&&typeof t=="string"&&t.startsWith("blob:")&&URL.revokeObjectURL(t)})},[]),e.jsx(e.Fragment,{children:ct?e.jsx(Jt,{}):e.jsxs("div",{className:"create-deal-address-form-wrap",children:[L?e.jsx(It,{}):e.jsxs(e.Fragment,{children:[_e&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:e.jsx("div",{children:e.jsx("div",{className:"w-12 h-12 border-4 border-t-[#6C5DD3] border-r-transparent border-b-transparent border-l-transparent rounded-full animate-spin"})})}),e.jsx("div",{className:"address-detail-form-wrap",children:e.jsxs("form",{onSubmit:H(Nt),className:"create-deal-address-form",children:[e.jsxs("div",{className:"address-details-form-sec",children:[e.jsx("h4",{className:"font-semibold mb-4 heading-color2 dark:text-white",children:"Address details"}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-2 lg:gap-5 mb-2 lg:mb-10 ",children:[e.jsxs("div",{className:"mb-5",children:[e.jsx("label",{className:"block font-semibold light-black mb-2 dark:text-white",children:S.addressLine1}),e.jsx(Ut,{name:"address_line_1",placeholder:"Enter a Address1",control:me,defaultValue:(r==null?void 0:r.address_line_1)||"",rules:{required:`${S.addressLine1} is required`},render:({field:t})=>e.jsx(Gt,{value:t.value,onChange:s=>{t.onChange(s),gt(s)},onPlaceSelected:ht,className:"form-control focus:outline-none"})}),m.address_line_1&&e.jsx("p",{className:"text-red-500 text-sm",children:m.address_line_1.message})]}),e.jsxs("div",{className:"mb-5",children:[e.jsx("label",{className:"block font-semibold light-black mb-2  dark:text-white",children:S.addressLine2}),e.jsx("input",{type:"text",placeholder:"Enter a Address2",...w("address_line_2",{required:`${S.addressLine2} is required`,onChange:t=>{if(G(!1),R(!1),Q(!1),te(null),k(""),X&&!(r!=null&&r.map_image)){URL.revokeObjectURL(X),ee(null);const a=[...M];a[0]&&(a[0]=null,Z(a))}t.target.value&&$&&ae&&setTimeout(()=>{je()},500)}}),defaultValue:(r==null?void 0:r.address_line_2)||"",className:"form-control focus:outline-none"}),m.address_line_2&&e.jsx("p",{className:"text-red-500 text-sm",children:m.address_line_2.message})]})]}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-2 md:gap-5 mb-5",children:[e.jsxs("div",{className:"mb-5",children:[e.jsx("label",{className:"block font-semibold light-black mb-2 dark:text-white",children:S.city}),e.jsx("input",{...w("city",{required:"City is required",pattern:{value:/^[A-Za-z\s]+$/,message:"City name should contain only letters"}}),type:"text",placeholder:"Enter city",className:"form-control"}),m.city&&e.jsx("p",{className:"text-red-500 text-sm",children:m.city.message})]}),e.jsxs("div",{className:"mb-5",children:[e.jsx("label",{className:"block font-semibold light-black mb-2 dark:text-white",children:S.country}),e.jsxs("select",{...w("country_id",{required:`${S.country} is required`,onChange:t=>{if(G(!1),R(!1),Q(!1),te(null),ge(!1),k(""),X){URL.revokeObjectURL(X),ee(null);const a=[...M];a[0]&&!(r!=null&&r.map_image)&&(a[0]=null,Z(a))}t.target.value&&$&&z&&setTimeout(()=>{je()},500)}}),className:"form-select focus:outline-none",children:[e.jsx("option",{value:"",children:"Select a country"}),wt.map(t=>e.jsx("option",{value:t.id,selected:(r==null?void 0:r.country_id)===t.id,children:t.nicename},t.id))]}),m.country_id&&e.jsx("p",{className:"text-red-500 text-sm",children:m.country_id.message})]}),e.jsxs("div",{className:"mb-5",children:[e.jsx("label",{className:"block font-semibold light-black mb-2 dark:text-white",children:S.postCode}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Enter Post Code",maxLength:10,...w("post_code",{required:`${S.postCode} is required`,minLength:{value:5,message:"Post code must be at least 5 characters"},onChange:t=>{const s=t.target.value;if(G(!1),R(!1),Q(!1),ge(!1),k(""),te(null),X){URL.revokeObjectURL(X),ee(null);const a=[...M];a[0]&&!(r!=null&&r.map_image)&&(a[0]=null,Z(a))}s&&s.length>=5&&ae&&(se||z)&&setTimeout(()=>{s===c("post_code")&&je()},500)}}),defaultValue:(r==null?void 0:r.post_code)||"",className:`form-control focus:outline-none ${be&&!m.post_code?"border-red-500":""}`}),be&&!m.post_code&&e.jsx("span",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-red-500 font-bold",children:"×"}),De&&e.jsx("span",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:e.jsx("div",{className:"w-4 h-4 border-2 border-t-[#6C5DD3] border-r-transparent border-b-transparent border-l-transparent rounded-full animate-spin"})}),oe&&!De&&!m.post_code&&!be&&e.jsx("span",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-green-500 font-bold",children:"✓"})]}),m.post_code&&e.jsx("p",{className:"text-red-500 text-sm",children:m.post_code.message}),be&&!m.post_code&&e.jsxs("div",{className:"mt-1 text-red-500 text-sm flex items-start",children:[e.jsx("span",{className:"mr-1 font-bold",children:"×"}),e.jsx("span",{children:be})]})]})]})]}),e.jsxs("div",{className:"map-generated-sec mb-10",children:[e.jsx("h4",{className:"font-semibold mb-4 heading-color2  dark:text-white",children:"Map generated"}),e.jsx("div",{className:"bg-[#EBEBEC] dark:bg-[#282828] dark:border-[#454545] flex items-center justify-center relative create-deal-upload-document-wrap",children:M[0]?e.jsxs(e.Fragment,{children:[e.jsx("iframe",{width:"600",height:"300",className:"rounded-lg w-full",style:{border:0,borderRadius:"12px"},loading:"lazy",allowFullScreen:!0,referrerPolicy:"no-referrer-when-downgrade",src:mt(),title:"Google Map"}),e.jsx("button",{type:"button",className:"absolute bottom-[120px] right-[15px] bg-black text-white px-2 py-2 rounded-full border border-white text-sm shadow transition",onClick:ut,children:e.jsx(Et,{})})]}):!Ae&&e.jsx("div",{className:"text-center px-4",children:e.jsx("p",{className:"text-gray-400 mb-2",children:S.mapImage})})})]}),e.jsxs("div",{className:"upload-media-sec mb-10",children:[e.jsx("h4",{className:"font-semibold mb-4 heading-color2  dark:text-white",children:"Upload media"}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-5",children:[e.jsx("div",{onClick:yt,className:"bg-[#EBEBEC] dark:bg-[#282828] dark:border-[#454545] flex items-center justify-center relative create-deal-upload-document-wrap",children:M[1]?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:M[1],alt:"Property",className:"w-full h-full object-cover"}),e.jsx("button",{type:"button",className:"absolute top-1 right-1 z-10 text-2xl text-red-500",onClick:t=>{t.stopPropagation(),bt(1)},children:e.jsx(ke,{})})]}):e.jsxs("p",{className:"text-gray-400 cursor-pointer text-[17px] flex flex-col items-center justify-center mx-5 text-center",children:[e.jsx("span",{children:e.jsx(Ue,{size:50})}),e.jsx("span",{className:"text-[#6C5DD3]",children:"Click to upload"})," or drag and drop files PNG, JPEG, JPG (max size 25MB)"]})}),e.jsxs("div",{className:"additional-images-grid-wrap grid grid-cols-4 gap-2",children:[Array.from({length:3}).map((t,s)=>{const a=h[s],i=Ht(a);return e.jsx("div",{className:"additional-images-grid-col flex items-center justify-center relative cursor-pointer",onClick:()=>I(s),children:i?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:i,alt:`Other ${s}`,className:"w-full h-full object-cover rounded"}),e.jsx("button",{type:"button",className:"absolute top-1 right-1 text-xl text-red-500",onClick:n=>{n.stopPropagation(),ze(s,a)},children:e.jsx(ke,{size:16})}),s===2&&J>0&&e.jsxs("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center text-white font-semibold text-lg rounded pointer-events-none",children:["+",J]})]}):e.jsx(Ue,{className:"text-2xl text-[#DADADA]"})},s)}),e.jsx("div",{className:"additional-images-grid-col flex items-center justify-center relative cursor-pointer",onClick:()=>I(3),children:e.jsx(Ue,{className:"text-2xl text-[#DADADA]"})})]}),e.jsx("input",{type:"file",accept:"image/png, image/jpeg, image/jpg",multiple:!0,className:"hidden",ref:xt,onChange:vt,onClick:t=>t.target.value=null}),e.jsx("input",{type:"file",accept:"image/*",className:"hidden",ref:Me,onChange:jt,onClick:t=>{t.target.value=null}}),y&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:y})]})]}),e.jsxs("div",{className:"property-type-details-sec mb-5",children:[e.jsx("h4",{className:"font-semibold mb-4 heading-color2 dark:text-white",children:"Property details"}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-5 property-type-option-wrap",children:[V.property_types.map((t,s)=>{const a=re[s]||Ee;return e.jsxs("label",{className:`flex md:grid items-center gap-2 p-3 rounded-lg cursor-pointer border transition-all
                            ${c("property_type_id")==t.id?"border-2 border-[#6C5DD3] bg-[#EDF4FF] rounded-xl dark:bg-[#262145]":"border-gray-300 rounded-xl dark:border-[#454545]"}`,children:[e.jsx("input",{type:"radio",...w("property_type_id",{required:`Select a ${S.propertyType.toLowerCase()}`}),value:t.id,className:"hidden"}),e.jsx("span",{className:"property-type-icon-wrap",children:e.jsx(a,{className:"text-xl text-[#595959] dark:text-[#C5C5C5]"})}),e.jsx("span",{className:"font-medium text-[#595959] property-type-detail-text dark:text-[#C5C5C5]",children:t.title})]},t.id)}),m.property_type_id&&e.jsx("p",{className:"text-red-500 text-sm",children:m.property_type_id.message})]})]}),e.jsx("div",{className:"property-category-sec mb-5",children:c("property_type_id")&&e.jsxs("div",{className:"",children:[e.jsx("label",{className:"block font-semibold mb-3 heading-color2 dark:text-white",children:S.propertyCategory}),e.jsxs("div",{className:"property-category-option-wrap grid lg:grid-cols-3 gap-5",children:[(Ye=V.property_types.find(t=>t.id==c("property_type_id")))==null?void 0:Ye.property_type_categories.map(t=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer property-category-radio-option",children:[e.jsx("input",{type:"radio",...w("property_type_category_id",{required:`Select a ${S.propertyCategory.toLowerCase()}`}),value:t.id,className:"hidden",defaultChecked:Number(r==null?void 0:r.property_type_category_id)===Number(t.id)}),e.jsx("div",{className:`w-5 h-5 flex items-center justify-center rounded-full border transition-all
                               ${Number(c("property_type_category_id"))===Number(t.id)?"border-[#6C5DD3] bg-[#fff] active":"border-[#DADADA]"}`,children:Number(c("property_type_category_id"))===Number(t.id)&&e.jsx("div",{className:"w-[8px] h-[8px] rounded-full bg-[#6C5DD3]"})}),e.jsx("span",{className:"text-[#595959] font-medium",children:t.title})]},t.id)),((Ke=V.property_types.find(t=>t.id==c("property_type_id")))==null?void 0:Ke.property_type_categories.length)===0&&e.jsx("span",{className:"text-gray-500",children:"No categories available for this property type"})]}),m.property_type_category_id&&e.jsx("p",{className:"text-red-500 text-sm",children:m.property_type_category_id.message})]})}),e.jsx("div",{className:"property-sub-category-sec mb-5",children:c("property_type_category_id")&&((He=(Je=(Ze=(Qe=V.property_types.find(t=>t.id==c("property_type_id")))==null?void 0:Qe.property_type_categories)==null?void 0:Ze.find(t=>t.id==c("property_type_category_id")))==null?void 0:Je.sub_categories)==null?void 0:He.length)>0&&e.jsxs("div",{className:"",children:[e.jsx("label",{className:"block font-semibold mb-3 heading-color2 dark:text-white",children:S.propertySubCategory}),e.jsx("div",{className:"property-category-option-wrap grid lg:grid-cols-3 gap-5",children:(tt=(et=(Xe=V.property_types.find(t=>t.id==c("property_type_id")))==null?void 0:Xe.property_type_categories)==null?void 0:et.find(t=>t.id==c("property_type_category_id")))==null?void 0:tt.sub_categories.map(t=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer property-category-radio-option dark:!text-white",children:[e.jsx("input",{type:"radio",...w("sub_category_id",{required:`Select a ${S.propertySubCategory.toLowerCase()}`}),value:t.id,className:"hidden",defaultChecked:Number(r==null?void 0:r.sub_category_id)===Number(t.id)}),e.jsx("div",{className:`w-5 h-5 flex items-center justify-center rounded-full border-2 transition-all
                                ${Number(c("sub_category_id"))===Number(t.id)?"border-[#6C5DD3] bg-[#fff] active":"border-[#DADADA]"}`,children:Number(c("sub_category_id"))===Number(t.id)&&e.jsx("div",{className:"w-[8px] h-[8px] rounded-full bg-[#6C5DD3]"})}),e.jsx("span",{className:"text-dark dark:text-white",children:t.title})]},t.id))}),m.sub_category_id&&e.jsx("p",{className:"text-red-500 text-sm",children:m.sub_category_id.message})]})}),e.jsx("div",{className:"tenure-type-sec mb-10",children:Oe&&e.jsxs("div",{className:"mb-5",children:[e.jsx("label",{className:"block font-semibold mb-3 heading-color2 dark:text-white",children:"Tenure Type"}),e.jsxs("div",{className:"property-category-option-wrap grid lg:grid-cols-3 gap-5",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer property-category-radio-option",children:[e.jsx("input",{type:"radio",...w("tenure_type",{required:"Select a tenure type"}),value:"freehold",className:"hidden"}),e.jsx("div",{className:`w-5 h-5 flex items-center justify-center rounded-full border-2 transition-all
                            ${c("tenure_type")==="freehold"?"border-[#6C5DD3] bg-[#fff] active":"border-[#DADADA]"}`,children:c("tenure_type")==="freehold"&&e.jsx("div",{className:"w-[8px] h-[8px] rounded-full bg-[#6C5DD3]"})}),e.jsx("span",{className:"text-dark dark:text-white",children:"Freehold"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer property-category-radio-option dark:text-white",children:[e.jsx("input",{type:"radio",...w("tenure_type",{required:"Select a tenure type"}),value:"leasehold",className:"hidden"}),e.jsx("div",{className:`w-5 h-5 flex items-center justify-center rounded-full border-2 transition-all
                            ${c("tenure_type")==="leasehold"?"border-[#6C5DD3] bg-[#fff] active":"border-[#DADADA]"}`,children:c("tenure_type")==="leasehold"&&e.jsx("div",{className:"w-[8px] h-[8px] rounded-full bg-[#6C5DD3]"})}),e.jsx("span",{className:"text-dark dark:text-white",children:"Leasehold"})]}),m.tenure_type&&e.jsx("p",{className:"text-red-500 text-sm",children:m.tenure_type.message})]})]})}),e.jsx("div",{className:"deal-type-sec mb-10",children:e.jsxs("div",{className:"",children:[e.jsx("h4",{className:"font-semibold mb-4 heading-color2 dark:text-white",children:S.dealType}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-5 deal-type-option-wrap",children:[V.deal_types.map((t,s)=>{const a=ye[s]||Ee;return e.jsxs("label",{className:"grid items-center cursor-pointer property-detail-radio-wrap",children:[e.jsx("input",{type:"radio",...w("deal_type_id",{required:`Select a ${S.dealType.toLowerCase()}`}),value:t.id,className:"hidden"}),e.jsx("div",{className:`w-5 h-5 flex items-center justify-center rounded-full border-2 transition-all hidden
                                              ${c("deal_type_id")==t.id?"border-[#6C5DD3] bg-[#6C5DD3] active":"border-[#6C5DD3]"}`,children:c("deal_type_id")==t.id&&e.jsx("div",{className:"w-5 h-5 rounded-full bg-[#6C5DD3]"})}),e.jsx("div",{className:"",children:e.jsx("span",{className:"property-type-icon-wrap",children:e.jsx(a,{className:"text-xl text-[#595959] dark:text-[#C5C5C5]"})})}),e.jsx("span",{className:"font-medium text-[#595959] property-type-detail-text dark:text-[#C5C5C5]",children:t.title})]},t.id)}),m.deal_type_id&&e.jsx("p",{className:"text-red-500 text-sm",children:m.deal_type_id.message})]})]})}),e.jsx("div",{className:"exit-type-sec mb-10",children:c("deal_type_id")==3&&e.jsxs("div",{className:"",children:[e.jsx("h4",{className:"font-semibold mb-4 heading-color2 dark:text-white",children:S.exitType}),e.jsxs("div",{className:"property-category-option-wrap grid lg:grid-cols-3 gap-5",children:[V.exit_types.map(t=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer property-category-radio-option",children:[e.jsx("input",{type:"radio",...w("exit_type_id",{required:`Select an ${S.exitType.toLowerCase()}`}),value:t.id,className:"hidden"}),e.jsx("div",{className:`w-5 h-5 flex items-center justify-center rounded-full border-2 transition-all
                            ${c("exit_type_id")==t.id?"border-[#6C5DD3] bg-[#fff] active":"border-[#DADADA]"}`,children:c("exit_type_id")==t.id&&e.jsx("div",{className:"w-[8px] h-[8px] rounded-full bg-[#6C5DD3]"})}),e.jsx("span",{className:"text-dark dark:text-white",children:t.title})]},t.id)),m.exit_type_id&&e.jsx("p",{className:"text-red-500 text-sm",children:m.exit_type_id.message})]})]})}),e.jsx("div",{className:"no-of-bedrooms-sec mb-10",children:e.jsxs("div",{className:"grid lg:grid-cols-3 gap-5",children:[Se&&e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold mb-3 heading-color2 dark:text-white",children:Se}),e.jsx("input",{type:"text",maxLength:3,...w("no_of_dwelling",{required:`${Se} is required`,pattern:{value:/^[0-9]+$/,message:"Only numbers are allowed"}}),className:"form-control focus:outline-none"}),m.no_of_dwelling&&e.jsx("p",{className:"text-red-500 text-sm",children:m.no_of_dwelling.message})]}),ue&&e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold mb-3 heading-color2 dark:text-white",children:"No. of Guests"}),e.jsx("input",{type:"text",maxLength:3,...w("no_of_guests",{required:"No. of Guests is required",pattern:{value:/^[0-9]+$/,message:"Only numbers are allowed"}}),className:"form-control focus:outline-none"}),m.no_of_guests&&e.jsx("p",{className:"text-red-500 text-sm",children:m.no_of_guests.message})]})]})}),e.jsx("div",{className:"mt-5 flex justify-end gap-4",children:e.jsxs("button",{type:"submit",className:"w-fit purple-btn items-center gap-3 justify-center",style:{display:"flex"},disabled:_e,children:["Next",e.jsx(Ft,{})]})})]})})]}),q&&e.jsx(Qt,{title:"Manage Images",initialImages:Xt(W),otherImages:W,initialActiveIndex:de,maxFiles:20,onImagesChange:Ne,onClose:()=>v(!1),removeOtherImage:ze,acceptedFileTypes:"image"})]})})};export{ns as default};
