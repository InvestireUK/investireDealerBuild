import{u as i,v,r as a,m as s,a4 as w,a5 as g}from"./index-BPP_8qLW.js";const C=()=>{const{user:n}=i(e=>e.user),{notificationsCheckbox:t}=i(e=>e.user),l=v(),[m,d]=a.useState(t==null?void 0:t.reminders),[o,x]=a.useState(t==null?void 0:t.communication),[h,u]=a.useState((t==null?void 0:t.communication_preference)||"email"),y=[{key:"daily",title:"Daily"},{key:"bi-weekly",title:"Bi-weekly"},{key:"weekly",title:"Weekly"}],p=[{key:"newsletter",title:"Newsletter",description:"Monthly newsletter, webinar invitations, trends, stats and more"},{key:"community_events",title:"Community Events",description:"News about our virtual live events, including conferences and in-person events."},{key:"surveys",title:"Surveys",description:"Help us improve the platform through our monthly surveys"}],b=[{key:"email",title:"Email"},{key:"phone",title:"Phone"},{key:"sms",title:"SMS"}],r=async(e,N)=>{try{const c=await w({user_id:n.id,[e]:N});l(g(c.data.notification))}catch(c){console.error("Error updating preference",c)}},j=e=>{d(e),r("reminders",e)},k=e=>{x(e),r("communication",e)},f=e=>{u(e),r("communication_preference",e)};return s.jsxs("div",{children:[s.jsx("div",{className:"flex justify-between items-center pb-3 border-b dark:border-b-[#333333]",children:s.jsx("h1",{className:"text-3xl text-black dark:text-white font-semibold",children:"Reminders"})}),s.jsx("hr",{className:"mb-3"}),s.jsx("div",{className:"space-y-3",children:y.map(e=>s.jsxs("label",{className:"flex items-center justify-start gap-3 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:m===e.key,onChange:()=>j(e.key),className:"w-6 h-6 mt-1 accent-[#6C5DD3]"}),s.jsxs("div",{children:[s.jsx("h6",{className:"text-lg font-semibold",children:e.title}),s.jsx("p",{className:"text-sm text-gray-600 ",children:e.description})]})]},e.key))}),s.jsx("div",{className:"flex justify-between items-center mt-6 pb-3 border-b  dark:border-b-[#333333]",children:s.jsx("h1",{className:"text-3xl text-black dark:text-white font-semibold",children:"Communications"})}),s.jsx("hr",{className:"mb-3"}),s.jsx("div",{className:"space-y-3",children:p.map(e=>s.jsxs("label",{className:"flex items-center justify-start gap-3 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:o===e.key,onChange:()=>k(e.key),className:"w-6 h-6 mt-1 accent-[#6C5DD3]"}),s.jsxs("div",{children:[s.jsx("h6",{className:"text-lg font-semibold",children:e.title}),s.jsx("p",{className:"text-sm text-gray-600",children:e.description})]})]},e.key))}),s.jsx("div",{className:"flex justify-between items-center mt-6 pb-3 border-b dark:border-b-[#333333]",children:s.jsx("h1",{className:"text-3xl text-black dark:text-white font-semibold",children:"Communication Preference"})}),s.jsx("hr",{className:"mb-3"}),s.jsx("div",{className:"space-y-3",children:b.map(e=>s.jsxs("label",{className:"flex items-center justify-start gap-3 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:h===e.key,onChange:()=>f(e.key),className:"w-6 h-6 mt-1 accent-[#6C5DD3]"}),s.jsxs("div",{children:[s.jsx("h6",{className:"text-lg font-semibold",children:e.title}),s.jsx("p",{className:"text-sm text-gray-600",children:e.description})]})]},e.key))})]})};export{C as default};
