import{r as u,m as e,ak as Ne,al as ve,b$ as fe,b2 as we,a_ as ke,aI as de,b1 as C,aZ as Se,a$ as Fe,a7 as Le,t as Ce,s as Ie,u as $e,at as Pe,q as Ae,bF as Ee,bG as Me,x as Te,c0 as Re,c1 as Be,bW as ce,bU as De,c2 as oe,bV as qe,c3 as Ue,b_ as Oe}from"./index-CZqWun_B.js";import{a as We}from"./index-cruCng9K.js";const He=({slides:t=[]})=>{const[d,y]=u.useState(0),a=()=>{y(c=>c===0?0:c-1)},_=()=>{y(c=>c===t.length-1?c:c+1)};return t.length===0?e.jsx("div",{className:"text-center text-gray-400 p-4",children:"No images available"}):e.jsx("div",{className:"relative w-full deal-detail-slider-wrapper",children:e.jsx("div",{className:"relative overflow-hidden rounded-lg",children:t.map((c,j)=>e.jsxs("div",{className:`transition-opacity duration-700 ease-in-out relative ${j===d?"block":"hidden"}`,children:[e.jsxs("div",{className:"next-prev-btn-wrap",children:[e.jsx("button",{className:`prevSlide-btn ${d===0?"opacity-50 cursor-not-allowed":""}`,onClick:a,disabled:d===0,children:e.jsx(Ne,{})}),e.jsx("button",{className:`nextSlide-btn ${d===t.length-1?"opacity-50 cursor-not-allowed":""}`,onClick:_,disabled:d===t.length-1,children:e.jsx(ve,{})})]}),e.jsxs("div",{className:"absolute top-4 right-4 bg-black bg-opacity-60 text-white px-3 py-1 rounded-lg text-sm",children:[d+1,"/",t.length]}),e.jsx("div",{className:"deal-detail-slider-img-wrap",children:e.jsx("img",{src:c.img,alt:"Slide",className:"block w-full object-cover"})})]},c.id||j))})})},Ve=({comparables:t,deal_type:d})=>{const y=d==="sa";return e.jsx("div",{className:"comparables-table-wrapper",children:e.jsx("div",{className:"relative overflow-x-auto shadow-md sm:rounded-lg whitespace-nowrap",children:e.jsxs("table",{className:"w-full text-sm text-left rtl:text-right text-white dark:text-white",children:[e.jsx("thead",{className:"text-xs text-white uppercase bg-[#6C5DD3] dark:text-white",children:e.jsx("tr",{children:y?e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"px-6 py-3",children:"Sl No"}),e.jsx("th",{className:"px-6 py-3",children:"Image"}),e.jsx("th",{className:"px-6 py-3",children:"Title"}),e.jsx("th",{className:"px-6 py-3",children:"Price"}),e.jsx("th",{className:"px-6 py-3",children:"Legacy Name"}),e.jsx("th",{className:"px-6 py-3",children:"Average Rating"}),e.jsx("th",{className:"px-6 py-3",children:"No of Bedrooms"})]}):e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"px-6 py-3",children:"Sl No"}),e.jsx("th",{className:"px-6 py-3",children:"Image"}),e.jsx("th",{className:"px-6 py-3",children:"Property Type"}),e.jsx("th",{className:"px-6 py-3",children:"No of Bedrooms"}),e.jsx("th",{className:"px-6 py-3",children:"Size"}),e.jsx("th",{className:"px-6 py-3",children:"Price"}),e.jsx("th",{className:"px-6 py-3",children:"£ Per SQM"}),e.jsx("th",{className:"px-6 py-3",children:"Year"}),e.jsx("th",{className:"px-6 py-3",children:"Within"}),e.jsx("th",{className:"px-6 py-3",children:"Links"})]})})}),e.jsx("tbody",{children:t&&t.length>0?t.map((a,_)=>{var c,j;return e.jsxs("tr",{className:"border-b dark:border-gray-700 border-gray-200",children:[e.jsx("td",{className:"px-6 py-4",children:_+1}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"comparables-table-img-wrap",children:[e.jsx("img",{src:a.image_url,alt:"property"}),e.jsx("span",{className:"comparables-table-img-icon-wrap",children:e.jsx(fe,{})})]})}),y?e.jsxs(e.Fragment,{children:[e.jsx("td",{className:"px-6 py-4",children:a.title||"-"}),e.jsxs("td",{className:"px-6 py-4",children:["£",a.price||"-"]}),e.jsx("td",{className:"px-6 py-4",children:a.legacy_name||"-"}),e.jsx("td",{className:"px-6 py-4",children:a.average_rating||"-"}),e.jsx("td",{className:"px-6 py-4",children:a.no_of_bedroom||"-"})]}):e.jsxs(e.Fragment,{children:[e.jsx("td",{className:"px-6 py-4",children:((c=a.property_type)==null?void 0:c.title)||a.property_type_id||"-"}),e.jsx("td",{className:"px-6 py-4",children:a.no_of_bedroom||"-"}),e.jsxs("td",{className:"px-6 py-4",children:[a.size_in_sqm||"-"," Sqm"]}),e.jsxs("td",{className:"px-6 py-4",children:["£",a.price||"-"]}),e.jsxs("td",{className:"px-6 py-4",children:["£",a.per_sqm_price||"-"]}),e.jsx("td",{className:"px-6 py-4",children:a.year||"-"}),e.jsx("td",{className:"px-6 py-4",children:((j=a.property_radius)==null?void 0:j.title)||a.property_radius_id||"-"}),e.jsx("td",{className:"px-6 py-4",children:a!=null&&a.link||a!=null&&a.url?e.jsxs("div",{className:"relative group inline-block",children:[e.jsx("span",{className:"text-blue-600 cursor-pointer",children:"Link"}),e.jsxs("div",{className:"absolute bottom-full left-[-230%] -translate-x-1/2 mb-2 hidden group-hover:block bg-black text-white text-sm px-3 py-1 rounded whitespace-nowrap z-10",children:[a==null?void 0:a.link,(a==null?void 0:a.linked_search_url)&&e.jsxs(e.Fragment,{children:[e.jsx("br",{}),a==null?void 0:a.linked_search_url]})]})]}):"-"})]})]},a.id||_)}):e.jsx("tr",{className:"border-b dark:border-gray-700 border-gray-200",children:e.jsx("td",{colSpan:y?7:10,className:"px-6 py-4 text-center",children:"No comparables available"})})})]})})})},Ge=t=>!t||isNaN(t)?"0":parseFloat(t).toLocaleString("en-US"),Ye=({deal:t})=>{const{currentCase:d}=we({deal_type_id:t==null?void 0:t.deal_type_id}),y=d=="CASE_2"?ke(t):(t==null?void 0:t.property_deal_investment)||{},_=(()=>{switch(d){case"CASE_1":return C;case"CASE_2":return Fe;case"CASE_3":return(t==null?void 0:t.exit_type_id)===1?C:Se;default:return C}})(),c=n=>{const s=y[n.name];let b=s;if(n.isPercentage)return null;n.name!=="payback_period"&&!n.isPercentage&&(b=Ge(s));const v=n.reversed,N=e.jsx("div",{className:"purchase-price-label-wrap",children:e.jsx("label",{className:"font-semibold",children:n.label})}),g=e.jsx("div",{className:"w-full",children:e.jsx("div",{className:`${n.name==="payback_period"?"":"purchase-price-input-wrap"}`,children:e.jsx("p",{className:"p-2 rounded dark:text-white text-dark whitespace-nowrap financials-summary-data-wrap",children:b||"0"})})});return e.jsx("div",{className:"purchase-custom-grid",children:v?e.jsxs(e.Fragment,{children:[g,N]}):e.jsxs(e.Fragment,{children:[N,g]})})},j=n=>{const s=n.fields.filter(o=>!o.isPercentage);if(s.length===0)return null;const b=o=>(t==null?void 0:t.deal_type_id)===3&&(o==="no_of_dwelling"||o==="average_rent_per_unit");if(s.every(o=>b(o.name)))return null;const N=n.highlight?"highlight-row mb-5":"without-highlight-row mb-5",g=s.filter(o=>!b(o.name));return n.columns===2?e.jsx("div",{className:N,children:e.jsx("div",{className:"grid md:grid-cols-1 gap-10",children:g.map(o=>e.jsx("div",{className:"purchase-price-group-wrap",children:c(o)},o.name))})}):e.jsx("div",{className:`purchase-price-group-wrap ${N}`,children:g.map(o=>e.jsx("div",{children:c(o)},o.name))})},p=n=>e.jsxs("div",{className:"financial-form-main-container-wrapper",children:[e.jsx("hr",{className:"mb-4",style:{borderColor:"#6C5DD3",borderTopWidth:"3px",borderTopColor:"#3fb777"}}),e.jsx("div",{className:"financial-form-container-wrapper",children:e.jsxs("div",{className:"financial-form-grid",children:[e.jsx("div",{className:"financial-form-heading-col",children:e.jsx("h3",{className:"text-lg font-semibold text-dark dark:text-white",children:n.title})}),e.jsxs("div",{className:"financial-form-col-wrap relative",children:[n.subTitle&&e.jsx("h5",{className:"text-[#6C5DD3] text-sm mb-5",children:n.subTitle}),n.fields.map(s=>s.rows.map((b,v)=>e.jsx(de.Fragment,{children:j(b)},v)))]})]})})]},n.id);return e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:_.map(n=>e.jsx(de.Fragment,{children:p(n)},n.id))})},Ke=()=>{var A,E,M,T,R,B,D,q,U,O,W,H,V,G,Y,z,Q,Z,J,K,X,ee,se,ae,te,re,ne,le,ie;const{dealToken:t}=Le(),d=Ce(),y=Ie(),{token:a,role:_}=$e(r=>r.user),{loading:c,handleApiCall:j}=Pe(),[p,n]=u.useState(null),[s,b]=u.useState(null),[v,N]=u.useState([]),[g,o]=u.useState(!0),[ze,pe]=u.useState(null),[he,f]=u.useState(!1),{showSnackbar:x}=Ae(),[Qe,I]=u.useState(!1),[$,P]=u.useState(!1),w=u.useCallback(async()=>{var r,i,m,h;o(!0);try{let l;t&&a&&_==="investor"?(l=await Ee(t),I(!0)):(l=await Me(t),I(!0)),l&&l.data&&((r=l.data.data)!=null&&r.dealShare&&n(l.data.data.dealShare),(i=l.data.data)!=null&&i.propertyDeal&&(b(l.data.data.propertyDeal),l.data.data.propertyDeal.property_deal_sa_comparables&&N(l.data.data.propertyDeal.property_deal_sa_comparables)))}catch(l){console.error("API Error:",l),pe("Failed to load deal details"),x(((h=(m=l.response)==null?void 0:m.data)==null?void 0:h.error)||"Failed to load deal details","error")}finally{o(!1)}},[t]),k={description:(s==null?void 0:s.description_type)==="ai"?(s==null?void 0:s.description_ai)||"No AI description available":(s==null?void 0:s.description)||"No description available"},S={location:(s==null?void 0:s.description_type)==="ai"?(s==null?void 0:s.location_ai)||"No AI location available":(s==null?void 0:s.location)||"No location available"};u.useEffect(()=>{t&&w()},[w,t]),u.useEffect(()=>{!g&&s&&(document.querySelectorAll("[data-accordion-target]").forEach(i=>{const m=i.cloneNode(!0);i.parentNode.replaceChild(m,i)}),document.querySelectorAll("[data-accordion-target]").forEach(i=>{i.addEventListener("click",()=>{const m=i.getAttribute("data-accordion-target"),h=document.querySelector(m);if(h){h.classList.toggle("hidden");const l=h.classList.contains("hidden")?"false":"true";i.setAttribute("aria-expanded",l);const L=i.querySelector("[data-accordion-icon]");L&&(l==="true"?L.classList.remove("rotate-180"):L.classList.add("rotate-180"))}})}))},[g,s]);const xe=s?[s.address_line_1,s.address_line_2,s.post_code,((A=s.country)==null?void 0:A.nicename)||((E=s.country)==null?void 0:E.name)].filter(Boolean).join(", "):"",me=((M=s==null?void 0:s.property_deal_media)==null?void 0:M.map(r=>{var i;return{id:r.id,img:((i=r.media)==null?void 0:i.media_url)||r.media_url,text:(s==null?void 0:s.description)||""}}))||[],_e=s==null?void 0:s.map_image_url,ue=()=>{if(!a&&_!=="investor"||a&&_!=="investor"){x("Please login to mark as interested","error"),y(oe()),localStorage.setItem("deal_redirect_url",window.location.pathname),d("/login");return}const r=p==null?void 0:p.id;if(!r){x("Deal information not available","error");return}j({apiFn:()=>qe(r),onSuccess:()=>{d("/all/investor-deals/sa")},onError:()=>{d("/all/investor-deals/sa")}})},ye=()=>{if(!a&&_!=="investor"||a&&_!=="investor"){x("Please login to mark as not interested","error"),y(oe()),localStorage.setItem("deal_redirect_url",window.location.pathname),d("/login");return}if(!(p==null?void 0:p.id)){x("Deal information not available","error");return}f(!0)},je=r=>{const i=p==null?void 0:p.id;j({apiFn:()=>Oe(i,r),onSuccess:()=>{f(!1),w(),d("/all/investor-deals/sa")},onError:()=>{d("/all/investor-deals/sa")}})},be=async()=>{if(s!=null&&s.unique_id)try{const i=`https://phpstack-1547671-6035250.cloudwaysapps.com/sa-deal-details/${s.unique_id}`;await navigator.clipboard.writeText(i),x("Share link copied to clipboard!","success")}catch(r){console.error("Failed to copy link: ",r),x("Failed to copy share link","error")}else x("Deal information not available","error")},ge=async()=>{if(!(s!=null&&s.id)){x("Deal ID not available","error");return}P(!0);try{const r=await Ue(s.id),i=r.headers["content-type"];if(i&&i.includes("application/json")){const m=r.data;if(m.data&&m.data.pdf_url){const h=document.createElement("a");h.href=m.data.pdf_url,h.setAttribute("download",`deal-${s.id}.pdf`),document.body.appendChild(h),h.click(),document.body.removeChild(h),x("PDF downloaded successfully","success")}else x(m.message||"Failed to generate PDF","error")}else{const m=new Blob([r.data],{type:"application/pdf"}),h=window.URL.createObjectURL(m),l=document.createElement("a");l.href=h,l.setAttribute("download",`deal-${s.id}.pdf`),document.body.appendChild(l),l.click(),document.body.removeChild(l),x("PDF downloaded successfully","success")}}catch(r){console.error("Failed to download PDF: ",r),x(r.message||"Failed to download PDF","error")}finally{P(!1)}},F=(p==null?void 0:p.intrust_status)||0;return e.jsx(e.Fragment,{children:g?e.jsx(Te,{}):e.jsxs("div",{className:"DealsDetails-page-wrapper p-6",children:[e.jsxs("div",{className:"custom-grid-wrap",children:[e.jsxs("div",{className:"deals-detail-left-col-wrap",children:[e.jsx("div",{className:"deal-heading-wrapper flex items-center",children:e.jsx("h4",{className:"heading-color",children:xe||"Deal Details"})}),e.jsx("div",{className:"forecast-tables-wrapper",children:e.jsxs("div",{className:"grid md:grid-cols-3",children:[e.jsx("div",{className:"",children:e.jsx("h5",{className:"dark:text-white text-dark",children:"AQUISITION"})}),e.jsx("div",{className:"col-span-2 relative table-responsive",children:e.jsx("table",{className:"w-full text-sm text-left text-white",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("th",{scope:"row",className:"px-6 py-4",children:"Rent"}),e.jsx("td",{className:"px-6 py-4",children:(T=s.property_deal_sa_investment)!=null&&T.rent?`£${parseFloat(s.property_deal_sa_investment.rent).toLocaleString()}`:"-"})]}),e.jsxs("tr",{children:[e.jsx("th",{scope:"row",className:"px-6 py-4",children:"Administration"}),e.jsx("td",{className:"px-6 py-4",children:(R=s.property_deal_sa_investment)!=null&&R.administration_amount?`£${parseFloat(s.property_deal_sa_investment.administration_amount).toLocaleString()}`:"-"})]}),e.jsxs("tr",{children:[e.jsx("th",{scope:"row",className:"px-6 py-4",children:"Deal Sourcing Fees"}),e.jsx("td",{className:"px-6 py-4",children:(B=s.property_deal_sa_investment)!=null&&B.sourcing_fees?`£${parseFloat(s.property_deal_sa_investment.sourcing_fees).toLocaleString()}`:"-"})]}),e.jsxs("tr",{children:[e.jsx("th",{scope:"row",className:"px-6 py-4",children:"Aquisition Cost"}),e.jsx("td",{className:"px-6 py-4",children:(D=s.property_deal_sa_investment)!=null&&D.aquisition_cost?`£${parseFloat(s.property_deal_sa_investment.aquisition_cost).toLocaleString()}`:"-"})]})]})})})]})}),e.jsx("div",{className:"forecast-tables-wrapper",children:e.jsxs("div",{className:"grid md:grid-cols-3",children:[e.jsx("div",{className:"",children:e.jsx("h5",{className:"dark:text-white text-dark",children:"Forecast"})}),e.jsx("div",{className:"col-span-2 relative table-responsive",children:e.jsx("table",{className:"w-full text-sm text-left text-white",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("th",{scope:"row",className:"px-6 py-4",children:"Expected Daily Rate"}),e.jsx("td",{className:"px-6 py-4",children:(q=s.property_deal_sa_investment)!=null&&q.expected_daily_rate?`£${parseFloat(s.property_deal_sa_investment.expected_daily_rate).toLocaleString()}`:"-"})]}),e.jsxs("tr",{children:[e.jsx("th",{scope:"row",className:"px-6 py-4",children:"Occupancy Rate (Monthly)"}),e.jsx("td",{className:"px-6 py-4",children:(U=s.property_deal_sa_investment)!=null&&U.occupancy_rate_monthly_percentage?`£${parseFloat(s.property_deal_sa_investment.occupancy_rate_monthly_percentage).toFixed(0)}%`:"-"})]})]})})})]})}),e.jsx("div",{className:"forecast-tables-wrapper",children:e.jsxs("div",{className:"grid md:grid-cols-3",children:[e.jsx("div",{className:"",children:e.jsx("h5",{className:"dark:text-white text-dark",children:"Setup Fees"})}),e.jsx("div",{className:"col-span-2 relative table-responsive",children:e.jsx("table",{className:"w-full text-sm text-left text-white",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("th",{scope:"row",className:"px-6 py-4",children:"Furnishing"}),e.jsx("td",{className:"px-6 py-4",children:(O=s.property_deal_sa_investment)!=null&&O.furnishing_fees?`£${parseFloat(s.property_deal_sa_investment.furnishing_fees).toLocaleString()}`:"-"})]}),e.jsxs("tr",{children:[e.jsx("th",{scope:"row",className:"px-6 py-4",children:"Refurbishment"}),e.jsx("td",{className:"px-6 py-4",children:(W=s.property_deal_sa_investment)!=null&&W.refurbishment_fees?`£${parseFloat(s.property_deal_sa_investment.refurbishment_fees).toLocaleString()}`:"-"})]}),e.jsxs("tr",{children:[e.jsx("th",{scope:"row",className:"px-6 py-4",children:"OTA Setup Fee"}),e.jsx("td",{className:"px-6 py-4",children:(H=s.property_deal_sa_investment)!=null&&H.ota_setup_fees?`£${parseFloat(s.property_deal_sa_investment.ota_setup_fees).toLocaleString()}`:"-"})]}),e.jsxs("tr",{children:[e.jsx("th",{scope:"row",className:"px-6 py-4",children:"Channel Manager Setup"}),e.jsx("td",{className:"px-6 py-4",children:(V=s.property_deal_sa_investment)!=null&&V.channel_manager_setup_fees?`£${parseFloat(s.property_deal_sa_investment.channel_manager_setup_fees).toLocaleString()}`:"-"})]}),e.jsxs("tr",{children:[e.jsx("th",{scope:"row",className:"px-6 py-4",children:"Setup Cost"}),e.jsx("td",{className:"px-6 py-4",children:(G=s.property_deal_sa_investment)!=null&&G.setup_cost?`£${parseFloat(s.property_deal_sa_investment.setup_cost).toLocaleString()}`:"-"})]})]})})})]})}),e.jsx("div",{className:"forecast-tables-wrapper",children:e.jsxs("div",{className:"grid md:grid-cols-3",children:[e.jsx("div",{className:"",children:e.jsx("h5",{className:"dark:text-white text-dark",children:"Monthly Expenses"})}),e.jsx("div",{className:"col-span-2 relative table-responsive",children:e.jsx("table",{className:"w-full text-sm text-left text-white",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("th",{scope:"row",className:"px-6 py-4",children:"Council Tax / Business Rates"}),e.jsx("td",{className:"px-6 py-4",children:(Y=s.property_deal_sa_investment)!=null&&Y.council_tax_or_business_rates_expense?`£${parseFloat(s.property_deal_sa_investment.council_tax_or_business_rates_expense).toLocaleString()}`:"-"})]}),e.jsxs("tr",{children:[e.jsx("th",{scope:"row",className:"px-6 py-4",children:"Water, Gas Electric & Broadband"}),e.jsx("td",{className:"px-6 py-4",children:(z=s.property_deal_sa_investment)!=null&&z.water_gas_electric_broadband_expense?`£${parseFloat(s.property_deal_sa_investment.water_gas_electric_broadband_expense).toLocaleString()}`:"-"})]}),e.jsxs("tr",{children:[e.jsx("th",{scope:"row",className:"px-6 py-4",children:"Insurance"}),e.jsx("td",{className:"px-6 py-4",children:(Q=s.property_deal_sa_investment)!=null&&Q.insurance_expense?`£${parseFloat(s.property_deal_sa_investment.insurance_expense).toLocaleString()}`:"-"})]}),e.jsxs("tr",{children:[e.jsx("th",{scope:"row",className:"px-6 py-4",children:"Cleaning"}),e.jsx("td",{className:"px-6 py-4",children:(Z=s.property_deal_sa_investment)!=null&&Z.cleaning_expense?`£${parseFloat(s.property_deal_sa_investment.cleaning_expense).toLocaleString()}`:"-"})]}),e.jsxs("tr",{children:[e.jsx("th",{scope:"row",className:"px-6 py-4",children:"Laundry"}),e.jsx("td",{className:"px-6 py-4",children:(J=s.property_deal_sa_investment)!=null&&J.laundry_expense?`£${parseFloat(s.property_deal_sa_investment.laundry_expense).toLocaleString()}`:"-"})]}),e.jsxs("tr",{children:[e.jsx("th",{scope:"row",className:"px-6 py-4",children:"Other"}),e.jsx("td",{className:"px-6 py-4",children:(K=s.property_deal_sa_investment)!=null&&K.other_expense?`${parseFloat(s.property_deal_sa_investment.other_expense).toLocaleString()}`:"-"})]}),e.jsxs("tr",{children:[e.jsx("th",{scope:"row",className:"px-6 py-4",children:"Monthly Expense"}),e.jsx("td",{className:"px-6 py-4",children:(X=s.property_deal_sa_investment)!=null&&X.monthly_expense?`${parseFloat(s.property_deal_sa_investment.monthly_expense).toLocaleString()}`:"-"})]})]})})})]})}),e.jsx("div",{className:"forecast-tables-wrapper",children:e.jsxs("div",{className:"grid md:grid-cols-3",children:[e.jsx("div",{className:"",children:e.jsx("h5",{className:"dark:text-white text-dark",children:"Financials"})}),e.jsx("div",{className:"col-span-2 relative table-responsive",children:e.jsx("table",{className:"w-full text-sm text-left text-white",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("th",{scope:"row",className:"px-6 py-4",children:"Monthly Revenue"}),e.jsx("td",{className:"px-6 py-4",children:(ee=s.property_deal_sa_investment)!=null&&ee.monthly_revenue?`£${parseFloat(s.property_deal_sa_investment.monthly_revenue).toLocaleString()}`:"-"})]}),e.jsxs("tr",{children:[e.jsx("th",{scope:"row",className:"px-6 py-4",children:"Total Monthly Income"}),e.jsx("td",{className:"px-6 py-4",children:(se=s.property_deal_sa_investment)!=null&&se.total_monthly_income?`£${parseFloat(s.property_deal_sa_investment.total_monthly_income).toLocaleString()}`:"-"})]}),e.jsxs("tr",{children:[e.jsx("th",{scope:"row",className:"px-6 py-4",children:"Net Income (Monthly)"}),e.jsx("td",{className:"px-6 py-4",children:(ae=s.property_deal_sa_investment)!=null&&ae.net_income_monthly?`£${parseFloat(s.property_deal_sa_investment.net_income_monthly).toLocaleString()}`:"-"})]}),e.jsxs("tr",{children:[e.jsx("th",{scope:"row",className:"px-6 py-4",children:"Net Income Per Year"}),e.jsx("td",{className:"px-6 py-4",children:(te=s.property_deal_sa_investment)!=null&&te.net_income_per_year?`£${parseFloat(s.property_deal_sa_investment.net_income_per_year).toLocaleString()}`:"-"})]}),e.jsxs("tr",{children:[e.jsx("th",{scope:"row",className:"px-6 py-4",children:"Gross Income per Year"}),e.jsx("td",{className:"px-6 py-4",children:(re=s.property_deal_sa_investment)!=null&&re.gross_income_per_year?`£${parseFloat(s.property_deal_sa_investment.gross_income_per_year).toLocaleString()}`:"-"})]}),e.jsxs("tr",{children:[e.jsx("th",{scope:"row",className:"px-6 py-4",children:"Gross ROI"}),e.jsx("td",{className:"px-6 py-4",children:(ne=s==null?void 0:s.property_deal_sa_investment)!=null&&ne.gross_roi_percentage?`${new Intl.NumberFormat("en-IN",{maximumFractionDigits:0}).format(parseFloat(s==null?void 0:s.property_deal_sa_investment.gross_roi_percentage))}%`:"-"})]}),e.jsxs("tr",{children:[e.jsx("th",{scope:"row",className:"px-6 py-4",children:"Net ROI"}),e.jsx("td",{className:"px-6 py-4",children:(le=s==null?void 0:s.property_deal_sa_investment)!=null&&le.net_roi_percentage?`${new Intl.NumberFormat("en-IN",{maximumFractionDigits:0}).format(parseFloat(s==null?void 0:s.property_deal_sa_investment.net_roi_percentage))}%`:"-"})]}),e.jsxs("tr",{children:[e.jsx("th",{scope:"row",className:"px-6 py-4",children:"Months Until Break Even"}),e.jsx("td",{className:"px-6 py-4",children:(ie=s.property_deal_sa_investment)!=null&&ie.months_until_break_even?`${parseFloat(s.property_deal_sa_investment.months_until_break_even).toLocaleString()}`:"-"})]})]})})})]})}),e.jsxs("div",{className:"forecast-btn-group-wrap flex gap-4",children:[F===0&&e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",className:"interested-btn",onClick:ue,disabled:c,children:"Interested"}),e.jsx("button",{type:"button",className:"not-interested-btn",onClick:ye,disabled:c,children:"Not Interested"})]}),F===1&&e.jsx("button",{type:"button",className:"interested-btn bg-green-700 text-white border-green-700",disabled:!0,children:"Already Interested"}),F===2&&e.jsx("button",{type:"button",className:"not-interested-btn bg-red-700 text-white border-red-700",disabled:!0,children:"Marked Not Interested"})]})]}),e.jsxs("div",{className:"deals-detail-right-col-wrap mt-10 pt-5",children:[e.jsx("div",{className:"dealer-videos-wrapper",children:e.jsx("img",{src:_e,alt:"Property Map"})}),e.jsx(He,{slides:me}),e.jsx("div",{className:"deals-share-container-wrap",children:e.jsxs("div",{className:"deals-share-btn-wrap flex items-center gap-3",children:[e.jsx("button",{type:"button",className:"pdf-btn",onClick:ge,disabled:$,children:$?e.jsx("span",{className:"inline-block animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white"}):e.jsx(Re,{})}),e.jsx("button",{type:"button",className:"share-btn",onClick:be,children:e.jsx(Be,{})}),e.jsx("button",{type:"button",className:"youtube-btn",children:e.jsx(We,{})})]})})]})]}),e.jsx("div",{className:"deals-details-accordion-wrapper my-10",children:e.jsxs("div",{id:"accordion-flush","data-accordion":"collapse","data-active-classes":"bg-white dark:bg-gray-900 text-gray-900 dark:text-white","data-inactive-classes":"text-gray-500 dark:text-gray-400",children:[e.jsx("h2",{id:"accordion-flush-heading-1",children:e.jsxs("button",{type:"button",className:"flex items-center justify-between w-full py-4 font-medium rtl:text-right text-gray-500 border-b border-gray-200 dark:border-gray-700 dark:text-white gap-3","data-accordion-target":"#accordion-flush-body-1","aria-expanded":"true","aria-controls":"accordion-flush-body-1",children:[e.jsx("h6",{children:"Description"}),e.jsx("svg",{"data-accordion-icon":!0,className:"w-3 h-3 rotate-180 shrink-0","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 10 6",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5 5 1 1 5"})})]})}),e.jsx("div",{id:"accordion-flush-body-1",className:"hidden","aria-labelledby":"accordion-flush-heading-1",children:e.jsx("div",{className:"py-5 border-b border-gray-200 dark:border-gray-700",children:e.jsx("div",{className:"accordion-description-body-wrap",children:e.jsx("p",{className:"mb-2 text-gray-500 dark:text-gray-400 whitespace-pre-line",dangerouslySetInnerHTML:{__html:ce((k==null?void 0:k.description)||"No description available.")}})})})}),e.jsx("h2",{id:"accordion-flush-heading-2",children:e.jsxs("button",{type:"button",className:"flex items-center justify-between w-full py-4 font-medium rtl:text-right text-gray-500 border-b border-gray-200 dark:border-gray-700 dark:text-white gap-3","data-accordion-target":"#accordion-flush-body-2","aria-expanded":"false","aria-controls":"accordion-flush-body-2",children:[e.jsx("h6",{children:"Location"}),e.jsx("svg",{"data-accordion-icon":!0,className:"w-3 h-3 rotate-180 shrink-0","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 10 6",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5 5 1 1 5"})})]})}),e.jsx("div",{id:"accordion-flush-body-2",className:"hidden","aria-labelledby":"accordion-flush-heading-2",children:e.jsx("div",{className:"py-5 border-b border-gray-200 dark:border-gray-700",children:e.jsx("div",{className:"accordion-description-body-wrap",children:e.jsx("p",{className:"mb-2 text-gray-500 dark:text-gray-400 whitespace-pre-line",dangerouslySetInnerHTML:{__html:ce((S==null?void 0:S.location)||"No location available.")}})})})}),e.jsx("h2",{id:"accordion-flush-heading-3",children:e.jsxs("button",{type:"button",className:"flex items-center justify-between w-full py-4 font-medium rtl:text-right text-gray-500 border-b border-gray-200 dark:border-gray-700 dark:text-white gap-3","data-accordion-target":"#accordion-flush-body-3","aria-expanded":"false","aria-controls":"accordion-flush-body-3",children:[e.jsx("h6",{children:"Financials"}),e.jsx("svg",{"data-accordion-icon":!0,className:"w-3 h-3 rotate-180 shrink-0","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 10 6",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5 5 1 1 5"})})]})}),e.jsx("div",{id:"accordion-flush-body-3",className:"hidden","aria-labelledby":"accordion-flush-heading-3",children:e.jsx("div",{className:"py-5 border-b border-gray-200 dark:border-gray-700",children:e.jsx(Ye,{deal:s})})}),e.jsx("h2",{id:"accordion-flush-heading-4",children:e.jsxs("button",{type:"button",className:"flex items-center justify-between w-full py-4 font-medium rtl:text-right text-gray-500 border-b border-gray-200 dark:border-gray-700 dark:text-white gap-3","data-accordion-target":"#accordion-flush-body-4","aria-expanded":"false","aria-controls":"accordion-flush-body-4",children:[e.jsx("h6",{children:"Comparables"}),e.jsx("svg",{"data-accordion-icon":!0,className:"w-3 h-3 rotate-180 shrink-0","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 10 6",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5 5 1 1 5"})})]})}),e.jsx("div",{id:"accordion-flush-body-4",className:"hidden","aria-labelledby":"accordion-flush-heading-4",children:e.jsx("div",{className:"py-5 border-b border-gray-200 dark:border-gray-700",children:e.jsx(Ve,{comparables:v,deal_type:"sa"})})})]})}),e.jsx(De,{isOpen:he,onClose:()=>f(!1),onSubmit:je})]})})};export{Ke as default};
