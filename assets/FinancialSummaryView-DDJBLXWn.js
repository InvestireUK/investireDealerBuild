import{u as j,b0 as N,r as h,aY as S,aV as w,a_ as F,m as n,aG as f,a$ as _,aX as $,aZ as C}from"./index-u43gDI5M.js";const x=a=>{if(a<=0)return"0";const s=Math.floor(a),i=(a-s)*12,c=Math.round(i);if(s===0)return c===1?"1 month":`${c} months`;if(c===0)return s===1?"1 year":`${s} years`;{const l=s===1?"1 year":`${s} years`,o=c===1?"1 month":`${c} months`;return`${l} ${o}`}},k=()=>{const a=j(e=>{var r;return(r=e==null?void 0:e.deal)==null?void 0:r.deal}),{currentCase:s}=N({deal_type_id:a==null?void 0:a.deal_type_id}),[i,c]=h.useState({}),o=(()=>{switch(s){case"CASE_1":return _;case"CASE_2":return C;case"CASE_3":return(a==null?void 0:a.exit_type_id)===1?_:$;default:return _}})();h.useEffect(()=>{a&&(s==="CASE_2"?c(S(a)):s==="CASE_3"&&(a==null?void 0:a.exit_type_id)!==1?c(w(a)):c(F(a)))},[a,s]);const y=e=>{var g;const r=i[e.name];let t=r;e.name==="return_on_cash_investment_percentage"?t=r?`${r}%`:"0%":e.isPercentage&&(t=r?`${r}%`:"0%"),e.name==="payback_period"?t=Number(i.after_refurb_money_left_in)<=0?"Pays Immediately":x(Number(r))||"0":e.name=="profitable"&&(t="");const m=e.reversed;if((a==null?void 0:a.deal_type_id)===3&&(e.name==="no_of_dwelling"||e.name==="average_rent_per_unit"))return null;const p=n.jsx("div",{className:"purchase-price-label-wrap",children:n.jsx("label",{className:"text-sm text-[#595959] dark:text-[#C5C5C5]",children:e.name==="no_of_dwelling"?(a==null?void 0:a.deal_type_id)===2?"Number of Dwelling":"Number of Bedrooms":e.label})}),d=n.jsx("div",{className:"w-full",children:e.name!=="profitable"&&n.jsx("div",{className:`${e.name==="payback_period",""}`,children:n.jsx("p",{className:"text-xl font-semibold dark:text-white text-[#242424] whitespace-nowrap mt-3",children:e.name==="payback_period"?Number((g=i.after_refurb_money_left_in)==null?void 0:g.toString().replace(/,/g,""))<=0?"Pays Immediately":x(Number(r))||"0":e.name==="months_until_break_even"||e.name==="return_on_cash_investment_percentage"||e.name==="occupancy_rate_monthly"||e.name==="net_ROI"||e.name==="before_refurb_loan_to_value_percentage"||e.name==="before_refurb_interest_rate_percentage"||e.name==="deposit_percentage"||e.name==="contigency_percentage"||e.name==="after_refurb_loan_to_value_percentage"||e.name==="after_refurb_interest_rate_percentage"||e.name==="money_in_cash_invested_percentage"||e.name==="money_out_cash_invested_percentage"||e.name==="management_fee_percentage"||e.name==="no_of_dwelling"||e.name==="effective_rate_percentage"||e.name==="gross_ROI"?e.name==="return_on_cash_investment_percentage"&&parseFloat(t)<=0?"Infinite":t||"0":n.jsxs(n.Fragment,{children:["Â£",t||"0"]})})})});return n.jsx("div",{className:"summary-purchase-custom-grid",children:m?n.jsxs(n.Fragment,{children:[d,p]}):n.jsxs(n.Fragment,{children:[p,d]})})},b=e=>{const t=e.fields.filter(m=>!((a==null?void 0:a.deal_type_id)===3&&(m.name==="no_of_dwelling"||m.name==="average_rent_per_unit")));return t.length===0?null:n.jsx(n.Fragment,{children:t.map(m=>n.jsx("div",{children:y(m)},m.name))})},v=e=>n.jsx("div",{className:"financial-form-main-container-wrapper mb-4",children:n.jsx("div",{className:"dealview-financial-form-container-wrapper",children:n.jsxs("div",{className:"summary-financial-form-grid",children:[n.jsx("div",{className:"financial-form-heading-col mb-3",children:n.jsx("h3",{className:"text-lg text-[#6C5DD3] font-bold",children:e.title})}),n.jsx("div",{className:"financial-form-col-wrap relative grid grid-cols-2 gap-4 gap-y-3 md:gap-y-6 pt-4",children:e.fields.map((r,t)=>r.rows.map((m,u)=>n.jsx(f.Fragment,{children:b(m)},`${t}-${u}`)))})]})})});return n.jsx("div",{className:"grid grid-cols-1",children:o.map(e=>n.jsx(f.Fragment,{children:v(e)},e.id))})};export{k as F};
