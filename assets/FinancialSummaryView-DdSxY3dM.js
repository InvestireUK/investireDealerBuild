import{u as b,b3 as v,r as u,a$ as y,aY as j,b1 as S,m as n,aJ as d,b2 as m,a_ as F,b0 as w}from"./index-rQHf9svN.js";const N=a=>{if(!a)return"0";const c=String(a).replace(/[,%]/g,""),i=parseFloat(c);return isNaN(i)||i===0?"0":i.toLocaleString("en-US")},E=()=>{const a=b(e=>{var r;return(r=e==null?void 0:e.deal)==null?void 0:r.deal}),{currentCase:c}=v({deal_type_id:a==null?void 0:a.deal_type_id}),[i,o]=u.useState({}),g=(()=>{switch(c){case"CASE_1":return m;case"CASE_2":return w;case"CASE_3":return(a==null?void 0:a.exit_type_id)===1?m:F;default:return m}})();u.useEffect(()=>{a&&(c==="CASE_2"?o(y(a)):c==="CASE_3"&&(a==null?void 0:a.exit_type_id)!==1?o(j(a)):o(S(a)))},[a,c]);const h=e=>{const r=i[e.name];let t=r;e.name==="return_on_cash_investment_percentage"?t=r?`${r}%`:"0%":e.isPercentage?t=r?`${r}%`:"0%":e.name!=="payback_period"?t=N(r):e.name=="profitable"&&(t="");const s=e.reversed;if((a==null?void 0:a.deal_type_id)===3&&(e.name==="no_of_dwelling"||e.name==="average_rent_per_unit"))return null;const _=n.jsx("div",{className:"purchase-price-label-wrap",children:n.jsx("label",{className:"text-sm text-[#595959] dark:text-[#C5C5C5]",children:e.name==="no_of_dwelling"?(a==null?void 0:a.deal_type_id)===2?"Number of Dwelling":"Number of Bedrooms":e.label})}),p=n.jsx("div",{className:"w-full",children:e.name!=="profitable"&&n.jsx("div",{className:`${e.name==="payback_period",""}`,children:n.jsx("p",{className:"text-xl font-semibold dark:text-white text-[#242424] whitespace-nowrap mt-3",children:e.name==="months_until_break_even"||e.name==="payback_period"||e.name==="return_on_cash_investment_percentage"||e.name==="occupancy_rate_monthly"||e.name==="net_ROI"||e.name==="before_refurb_loan_to_value_percentage"||e.name==="before_refurb_interest_rate_percentage"||e.name==="deposit_percentage"||e.name==="contigency_percentage"||e.name==="after_refurb_loan_to_value_percentage"||e.name==="after_refurb_interest_rate_percentage"||e.name==="money_in_cash_invested_percentage"||e.name==="money_out_cash_invested_percentage"||e.name==="management_fee_percentage"||e.name==="gross_ROI"?e.name==="return_on_cash_investment_percentage"&&parseFloat(t)<=0?"Infinite":t||"0":n.jsxs(n.Fragment,{children:["Â£",t||"0"]})})})});return n.jsx("div",{className:"summary-purchase-custom-grid",children:s?n.jsxs(n.Fragment,{children:[p,_]}):n.jsxs(n.Fragment,{children:[_,p]})})},x=e=>{const t=e.fields.filter(s=>!((a==null?void 0:a.deal_type_id)===3&&(s.name==="no_of_dwelling"||s.name==="average_rent_per_unit")));return t.length===0?null:n.jsx(n.Fragment,{children:t.map(s=>n.jsx("div",{children:h(s)},s.name))})},f=e=>n.jsx("div",{className:"financial-form-main-container-wrapper mb-4",children:n.jsx("div",{className:"dealview-financial-form-container-wrapper",children:n.jsxs("div",{className:"summary-financial-form-grid",children:[n.jsx("div",{className:"financial-form-heading-col mb-3",children:n.jsx("h3",{className:"text-lg text-[#6C5DD3] font-bold",children:e.title})}),n.jsx("div",{className:"financial-form-col-wrap relative grid grid-cols-2 gap-4 gap-y-3 md:gap-y-6 pt-4",children:e.fields.map((r,t)=>r.rows.map((s,l)=>n.jsx(d.Fragment,{children:x(s)},`${t}-${l}`)))})]})})});return n.jsx("div",{className:"grid grid-cols-1",children:g.map(e=>n.jsx(d.Fragment,{children:f(e)},e.id))})};export{E as F};
