import{s as c,cb as i,Z as l}from"./index-BYsrrQ78.js";const d=()=>{const e=window.location.hostname.split(".");return e.length>2?e.slice(-2).join("."):window.location.hostname},a=(e,r)=>{const t=d();document.cookie=`${e}=${encodeURIComponent(r)}; Path=/; Domain=.${t}; Secure; SameSite=None`},h=()=>{const e=c();return async()=>{var t,n;try{const s=await i(),o=(n=(t=s==null?void 0:s.data)==null?void 0:t.data)==null?void 0:n.user;if(!o){console.warn("No user data received.");return}e(l({user:o})),a("user",JSON.stringify(o)),a("role",(o==null?void 0:o.role)||""),console.log("User refreshed and cookies updated")}catch(s){console.error("Failed to refresh user:",s)}}};export{h as u};
