import{r as n,q as u}from"./index-BLPpmfL1.js";const g=({fetchFn:f,onSuccess:i,shouldFetch:e})=>{const[l,t]=n.useState(!1),{showSnackbar:r}=u();return n.useEffect(()=>{if(!e)return;(async()=>{var s,o,c;t(!0);try{const a=await f();if((s=a.data)!=null&&s.success)i((o=a.data)==null?void 0:o.data);else throw new Error("Failed to fetch data")}catch(a){((c=a.response)==null?void 0:c.status)===401?r("Unauthorized access. Please log in.","error"):r("Error fetching data. Try again later.","error")}finally{t(!1)}})()},[e]),{loading:l}};export{g as u};
